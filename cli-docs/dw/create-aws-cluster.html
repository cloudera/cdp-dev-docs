
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>create-aws-cluster &#8212; CDP CLI 0.9.139 documentation</title>
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/cdpcli.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../static/cdpcli.css" />
    
    <script id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
    <script src="../static/jquery.js"></script>
    <script src="../static/underscore.js"></script>
    <script src="../static/doctools.js"></script>
    
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="create-azure-cluster" href="create-azure-cluster.html" />
    <link rel="prev" title="backup-cluster" href="backup-cluster.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="create-azure-cluster.html" title="create-azure-cluster"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="backup-cluster.html" title="backup-cluster"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDP CLI 0.9.139 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">dw</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">create-aws-cluster</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="create-aws-cluster">
<span id="cli-cdp-dw-create-aws-cluster"></span><h1>create-aws-cluster<a class="headerlink" href="#create-aws-cluster" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">subtitle</dt>
<dd class="field-odd"><p>Create an AWS cluster in the Cloudera Data Warehouse.</p>
</dd>
<dt class="field-even">version</dt>
<dd class="field-even"><p>0.9.139</p>
</dd>
</dl>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Create an AWS cluster in the Cloudera Data Warehouse environment with the provided settings.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>  create-aws-cluster
--environment-crn &lt;value&gt;
<span class="o">[</span>--use-overlay-network <span class="p">|</span> --no-use-overlay-network<span class="o">]</span>
<span class="o">[</span>--database-backup-retention-period &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--whitelist-k8s-cluster-access-ip-cidrs &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--whitelist-workload-access-ip-cidrs &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--use-private-load-balancer <span class="p">|</span> --no-use-private-load-balancer<span class="o">]</span>
<span class="o">[</span>--use-public-worker-node <span class="p">|</span> --no-use-public-worker-node<span class="o">]</span>
<span class="o">[</span>--enable-private-eks <span class="p">|</span> --no-enable-private-eks<span class="o">]</span>
<span class="o">[</span>--custom-registry-options &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--custom-subdomain &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--worker-subnet-ids &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--lb-subnet-ids &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--custom-ami-id &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--node-role-cdw-managed-policy-arn &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--enable-spot-instances <span class="p">|</span> --no-enable-spot-instances<span class="o">]</span>
<span class="o">[</span>--reduced-permission-mode <span class="p">|</span> --no-reduced-permission-mode<span class="o">]</span>
<span class="o">[</span>--non-transparent-proxy &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--cli-input-json &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--generate-cli-skeleton<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">--environment-crn</span></code> (string)</p>
<blockquote>
<div><p>The CRN of the environment for the cluster to create.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--use-overlay-network</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-use-overlay-network</span></code> (boolean)</p>
<blockquote>
<div><p>Using an overlay network will save IP addresses in the VPC by using a private IP address range for Pods in the cluster.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--database-backup-retention-period</span></code> (integer)</p>
<blockquote>
<div><p>PostgreSQL server backup retention days.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--whitelist-k8s-cluster-access-ip-cidrs</span></code> (array)</p>
<blockquote>
<div><p>List of IP address CIDRs to whitelist for kubernetes cluster access.</p>
</div></blockquote>
<p>Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;string&quot;</span> <span class="s2">&quot;string&quot;</span> ...
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--whitelist-workload-access-ip-cidrs</span></code> (array)</p>
<blockquote>
<div><p>List of IP address CIDRs to whitelist for workload access.</p>
</div></blockquote>
<p>Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;string&quot;</span> <span class="s2">&quot;string&quot;</span> ...
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--use-private-load-balancer</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-use-private-load-balancer</span></code> (boolean)</p>
<blockquote>
<div><p>Set up load balancer with private IP address. In AWS it is created in private subnets. In Azure an internal load balancer gets created. Make sure there is connectivity between your client network and the network (VPC/VNet) where CDW environment is deployed.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--use-public-worker-node</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-use-public-worker-node</span></code> (boolean)</p>
<blockquote>
<div><p>Set up worker node with public IP address. In AWS it is created in public subnets.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--enable-private-eks</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-enable-private-eks</span></code> (boolean)</p>
<blockquote>
<div><p>Use this option to set up AWS EKS cluster in private only mode with restricted access only from internal/peered networks. Ensure you have ccmv2 setup functional to achieve this integration.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--custom-registry-options</span></code> (object)</p>
<blockquote>
<div><p>Options for custom ACR, ECR registry.</p>
<p>registryType -&gt; (string)</p>
<blockquote>
<div><p>Custom registry type.</p>
</div></blockquote>
<p>repositoryUrl -&gt; (string)</p>
<blockquote>
<div><p>URL of the custom image repository.</p>
</div></blockquote>
</div></blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">registryType</span><span class="o">=</span>string,repositoryUrl<span class="o">=</span>string
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;registryType&quot;</span>: <span class="s2">&quot;ACR&quot;</span><span class="p">|</span><span class="s2">&quot;ECR&quot;</span>,
  <span class="s2">&quot;repositoryUrl&quot;</span>: <span class="s2">&quot;string&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--custom-subdomain</span></code> (string)</p>
<blockquote>
<div><p>Custom environment subdomain. Overrides the environment subdomain using a customized domain either in the old subdomain format like ENV_ID.dw or the new format like dw-ENV_NAME.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--worker-subnet-ids</span></code> (array)</p>
<blockquote>
<div><p>IDs of AWS subnets where the cluster worker nodes should be deployed.</p>
</div></blockquote>
<p>Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;string&quot;</span> <span class="s2">&quot;string&quot;</span> ...
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--lb-subnet-ids</span></code> (array)</p>
<blockquote>
<div><p>IDs of AWS subnets where the cluster load balancer should be deployed.</p>
</div></blockquote>
<p>Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;string&quot;</span> <span class="s2">&quot;string&quot;</span> ...
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--custom-ami-id</span></code> (string)</p>
<blockquote>
<div><p>Custom AMI ID.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--node-role-cdw-managed-policy-arn</span></code> (string)</p>
<blockquote>
<div><p>Managed Policy Arn to be attached to the Node Instance Role.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--enable-spot-instances</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-enable-spot-instances</span></code> (boolean)</p>
<blockquote>
<div><p>Whether to enable Spot instances for Virtual warehouses. It cannot be updated later. Defaults to false.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--reduced-permission-mode</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-reduced-permission-mode</span></code> (boolean)</p>
<blockquote>
<div><p>Use this option to activate the environment with fewer than half of the standard required IAM permissions on your AWS cross-account IAM role.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--non-transparent-proxy</span></code> (object)</p>
<blockquote>
<div><p>Activation options for an AWS environment to enable non-transparent proxy. Read more: <a class="reference external" href="https://docs.cloudera.com/data-warehouse/cloud/aws-environments/topics/dw-aws-use-non-transparent-proxy.html">https://docs.cloudera.com/data-warehouse/cloud/aws-environments/topics/dw-aws-use-non-transparent-proxy.html</a></p>
<p>use -&gt; (boolean)</p>
<blockquote>
<div><p>Switch using the default non-transparent proxy on/off.</p>
</div></blockquote>
<p>bypassedDomains -&gt; (array)</p>
<blockquote>
<div><p>Domains where the proxy is getting by-passed.</p>
<p>item -&gt; (string)</p>
<blockquote>
<div><p>Domain.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>Shorthand Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">use</span><span class="o">=</span>boolean,bypassedDomains<span class="o">=</span>string,string
</pre></div>
</div>
<p>JSON Syntax:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;use&quot;</span>: true<span class="p">|</span>false,
  <span class="s2">&quot;bypassedDomains&quot;</span>: <span class="o">[</span><span class="s2">&quot;string&quot;</span>, ...<span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">--cli-input-json</span></code> (string)</p>
<blockquote>
<div><p>Performs service operation based on the JSON string provided. The JSON string follows the format provided by <code class="docutils literal notranslate"><span class="pre">--generate-cli-skeleton</span></code>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--generate-cli-skeleton</span></code> (boolean)</p>
<blockquote>
<div><p>Prints a sample input JSON to standard output. Note the specified operation is not run if this argument is specified. The sample input can be used as an argument for <code class="docutils literal notranslate"><span class="pre">--cli-input-json</span></code>.</p>
</div></blockquote>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>clusterId -&gt; (string)</p>
<blockquote>
<div><p>ID of new AWS cluster.</p>
</div></blockquote>
</div>
<div class="section" id="form-factors">
<h2>Form Factors<a class="headerlink" href="#form-factors" title="Permalink to this headline">¶</a></h2>
<p>public, private</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">create-aws-cluster</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#form-factors">Form Factors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="backup-cluster.html"
                        title="previous chapter">backup-cluster</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="create-azure-cluster.html"
                        title="next chapter">create-azure-cluster</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="create-azure-cluster.html" title="create-azure-cluster"
             >next</a></li>
        <li class="right" >
          <a href="backup-cluster.html" title="backup-cluster"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDP CLI 0.9.139 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >dw</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">create-aws-cluster</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, Cloudera, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>

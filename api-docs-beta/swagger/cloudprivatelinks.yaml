x-generated: Automatically generated by CDP protoc plugin. Do not edit manually.
swagger: '2.0'
x-endpoint-name: cloudprivatelinks
x-products: CDP
x-form-factors: public
x-cdp-releases: BETA
info:
  version: 0.9.86 (BETA)
  title: Cloudera CloudPrivateLinks API Service
  license:
    name: Apache 2.0
  description: Provisions PrivateLink Endpoints on the cloud environments.
  termsOfService: https://www.cloudera.com/legal/commercial-terms-and-conditions.html
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /api/v1/cloudprivatelinks/createPrivateLinkEndpoint:
    post:
      summary: Creates PrivateLink endpoints.
      description: Creates the PrivateLink Endpoints for specified CDP service components.
      operationId: createPrivateLinkEndpoint
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/createPrivateLinkEndpoint
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreatePrivateLinkEndpointRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/CreatePrivateLinkEndpointResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/cloudprivatelinks/deletePrivateLinkEndpoint:
    post:
      summary: Deletes PrivateLink endpoints.
      description: Deletes the PrivateLink Endpoints for specified CDP service components.
      operationId: deletePrivateLinkEndpoint
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/deletePrivateLinkEndpoint
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeletePrivateLinkEndpointRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/DeletePrivateLinkEndpointResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/cloudprivatelinks/getPrivateLinkEndpointStatus:
    post:
      summary: Gets the statuses of PrivateLink endpoints.
      description: Returns the statuses of the PrivateLink endpoints in creation/deletion.
      operationId: getPrivateLinkEndpointStatus
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/getPrivateLinkEndpointStatus
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetPrivateLinkEndpointStatusRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/GetPrivateLinkEndpointStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: false
definitions:
  Error:
    type: object
    description: An object returned on an error.
    properties:
      code:
        type: string
        description: The error code.
      message:
        type: string
        description: The error message.
  CreatePrivateLinkEndpointRequest:
    type: object
    description: Request object for the CreatePrivateLinkEndpoint method.
    required:
      - cloudAccountId
    properties:
      cloudAccountId:
        type: string
        description: Account ID to authorize access for PrivateLink.
      serviceComponents:
        type: array
        items:
          type: string
        description: CDP service component name [API/DBUSAPI/IAMAPI/CCMV2/CONSOLEAUTH].
      enablePrivateDns:
        type: boolean
        description: Enable Private DNS for PrivateLink endpoint.
      serviceGroup:
        type: string
        description: CDP service group.
      environmentCrn:
        type: string
        description: CRN of the CDP environment in AWS cloud where the PrivateLink endpoint is created.
      awsAccountDetails:
        description: AWS account details where the PrivateLink endpoint is created.
        $ref: '#/definitions/AWSAccountDetails'
  CreatePrivateLinkEndpointResponse:
    type: object
    description: Response object for the CreatePrivateLinkEndpoint method.
    properties:
      trackingId:
        type: string
        description: Tracking ID of the create endpoint request.
  GetPrivateLinkEndpointStatusRequest:
    type: object
    description: Request object for GetPrivateLinkEndpointStatus method.
    required:
      - trackingId
    properties:
      trackingId:
        type: string
        description: Tracking ID of the create endpoint request.
  GetPrivateLinkEndpointStatusResponse:
    type: object
    description: Response object for GetPrivateLinkEndpointStatus method.
    properties:
      privatelinkEndpoints:
        type: array
        items:
          $ref: '#/definitions/PrivateLinkEndpointStatus'
        description: List of statuses of PrivateLink endpoints.
  DeletePrivateLinkEndpointRequest:
    type: object
    description: Request object for the DeletePrivateLinkEndpoint method.
    properties:
      serviceComponents:
        type: array
        items:
          type: string
        description: CDP service component name [API/DBUSAPI/IAMAPI/CCMV2/CONSOLEAUTH]
      environmentCrn:
        type: string
        description: CRN of the CDP environment in AWS cloud that this PrivateLink endpoint gets deleted from.
      awsAccountInfo:
        description: AWS account details to delete the PrivateLink endpoint from.
        $ref: '#/definitions/AWSAccountInfo'
  DeletePrivateLinkEndpointResponse:
    type: object
    description: Response object for the DeletePrivateLinkEndpoint method.
    properties:
      trackingId:
        type: string
        description: Tracking ID of the delete endpoint request.
  CrossAccountRoleDetails:
    type: object
    description: Customer cross account role details.
    properties:
      crossAccountRole:
        type: string
        description: Cross-account role.
      externalId:
        type: string
        description: External ID associated with the cross-account role.
  AWSAccountDetails:
    type: object
    description: Details of the cloud network and the cross-account role required to create the PrivateLink endpoint.
    properties:
      crossAccountRoleDetails:
        description: Cross account role details.
        $ref: '#/definitions/CrossAccountRoleDetails'
      credentialCrn:
        type: string
        description: CDP Credential CRN to fetch the AWS cross-account RoleArn for the account where the endpoint gets deleted.
      region:
        type: string
        description: Region in which VPC exists.
      vpcId:
        type: string
        description: VPC ID in which the private link should be created.
      subnetIds:
        type: array
        items:
          type: string
        description: IDs of the private subnets in which the private link should be created.
  AWSAccountInfo:
    type: object
    description: Details of the cloud network and the cross-account role required to delete the PrivateLink endpoint.
    properties:
      crossAccountRoleDetails:
        description: Cross account role details.
        $ref: '#/definitions/CrossAccountRoleDetails'
      credentialCrn:
        type: string
        description: CDP Credential CRN to fetch the AWS cross-account roleArn for the account where the endpoint gets deleted.
      region:
        type: string
        description: Region in which VPC exists.
      vpcId:
        type: string
        description: VPC ID in which the vpc endpoint should be deleted.
  PrivateLinkEndpointStatus:
    type: object
    description: Details of the PrivateLink endpoints.
    properties:
      serviceComponent:
        type: string
        description: CDP service component name [API/DBUSAPI/IAMAPI/CCMV2/CONSOLEAUTH].
      status:
        type: string
        description: Status of the PrivateLink endpoints. The status is set to SUCCESS on successful creation of endpoint, IN_PROGRESS on endpoint creation is in progress and ERROR on failing to create the endpoint.
      error:
        type: string
        description: Error message on failure.
      endpointId:
        type: string
        description: PrivateLink endpoint ID on success.
      dnsNames:
        type: array
        items:
          type: string
        description: List of PrivateLink endpoint DNS names on successful creation.
      creationTimestamp:
        type: string
        description: Endpoint creation timestamp.
x-audit: true

swagger: '2.0'
x-endpoint-name: replicationmanager
x-products: CDP
x-form-factors: public
x-cdp-releases: PUBLIC
x-audit: true
info:
  version: 0.9.108 (BETA)
  title: Cloudera Replication Manager Service
  license:
    name: Apache 2.0
  description: Create and manage replication policies using Cloudera Replication Manager.
  termsOfService: https://www.cloudera.com/legal/commercial-terms-and-conditions.html
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /api/v1/replicationmanager/listClusters:
    post:
      summary: Lists all clusters.
      description: Provides a detailed list of all available clusters.
      operationId: listClusters
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListClustersRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListClustersResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listClusterServiceStatuses:
    post:
      summary: Lists Cluster Service Statuses.
      description: Provides a list of cluster service (e.g. HDFS, Hive, YARN, etc.) statuses.
      operationId: listClusterServiceStatuses
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListClusterServiceStatusesRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListClusterServiceStatusesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listAllCredentials:
    post:
      summary: Lists Cloud Credentials.
      description: Provides a detailed list of cloud credentials across all available clusters.
      operationId: listAllCredentials
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListAllCredentialsRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListAllCredentialsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/getCredentials:
    post:
      summary: Get Cloud Credentials from a Cluster.
      description: Returns cloud credentials on a specific cluster.
      operationId: getCredentials
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetCredentialsRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/GetCredentialsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/createAwsCredential:
    post:
      summary: Create an AWS Cloud Credential.
      description: Creates a new AWS cloud credential.
      operationId: createAwsCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateAwsCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CreateAwsCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/updateAwsCredential:
    post:
      summary: Update an AWS Cloud Credential.
      description: Updates an existing AWS cloud credential.
      operationId: updateAwsCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpdateAwsCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/UpdateAwsCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/createAbfsCredential:
    post:
      summary: Create an ABFS Cloud Credential.
      description: Creates a new ABFS cloud credential.
      operationId: createAbfsCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateAbfsCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CreateAbfsCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/updateAbfsCredential:
    post:
      summary: Update an ABFS Cloud Credential.
      description: Updates an existing ABFS cloud credential.
      operationId: updateAbfsCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpdateAbfsCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/UpdateAbfsCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/createGcsCredential:
    post:
      summary: Create a GCS Cloud Credential.
      description: Creates a new GCS cloud credential.
      operationId: createGcsCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateGcsCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CreateGcsCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/updateGcsCredential:
    post:
      summary: Update a GCS Cloud Credential.
      description: Updates an existing GCS cloud credential.
      operationId: updateGcsCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpdateGcsCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/UpdateGcsCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/deleteCredential:
    post:
      summary: Delete Cloud Credential.
      description: Permanently deletes a specific cloud credential.
      operationId: deleteCredential
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeleteCredentialRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/DeleteCredentialResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/getClusterConfig:
    post:
      summary: Get configuration of a cluster.
      description: Retrieves configuration of a specific cluster.
      operationId: getClusterConfig
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetClusterConfigRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/GetClusterConfigResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listPolicies:
    post:
      summary: Get All Replication Policies.
      description: Provides a list of all replication policies across all available clusters.
      operationId: listPolicies
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListPoliciesRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListPoliciesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/deletePolicy:
    post:
      summary: Delete Replication Policy.
      description: Permanently deletes a specific replication policy.
      operationId: deletePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeletePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/DeletePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/createPolicy:
    post:
      summary: Create a Replication Policy.
      description: Creates a new replication policy with the given name on a specific cluster.
      operationId: createPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreatePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CreatePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/updatePolicy:
    post:
      summary: Update a Replication Policy.
      description: Updates an existing replication policy with the given parameters on a specific cluster.
      operationId: updatePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpdatePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/UpdatePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/suspendPolicy:
    post:
      summary: Stop all replication tasks defined by the policy.
      description: Stops all replication tasks defined by the policy. Replication will resume after activating the policy.
      operationId: suspendPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/SuspendPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/SuspendPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/activatePolicy:
    post:
      summary: Resume all replication tasks defined by the policy.
      description: Resumes all replication tasks defined by the policy if the policy is currently suspended.
      operationId: activatePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ActivatePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ActivatePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/rerunPolicy:
    post:
      summary: Rerun policy job.
      description: Instantly starts a new job of a provided policy.
      operationId: rerunPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RerunPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/RerunPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/abortPolicy:
    post:
      summary: Abort replication policy.
      description: Abort all running instances of the replication policy.
      operationId: abortPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/AbortPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/AbortPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listPolicyJobs:
    post:
      summary: List policy jobs.
      description: Returns a list of jobs triggered by a replication policy.
      operationId: listPolicyJobs
      x-mutating: false
      x-paging-default-max-items: 100
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListPolicyJobsRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListPolicyJobsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/createHbasePolicy:
    post:
      summary: Create an HBase Replication Policy.
      description: Creates a new HBase replication policy with the given name on a specific cluster.
      operationId: createHbasePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateHbasePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CreateHbasePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/updateHbasePolicy:
    post:
      summary: Update an HBase Replication Policy.
      description: Updates an existing HBase replication policy with the given parameters on a specific cluster.
      operationId: updateHbasePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpdateHbasePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/UpdateHbasePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/continueHbaseSetup:
    post:
      summary: Continue the setup of an HBase policy.
      description: Continues the setup of an HBase policy. If an HBase policy has a Classic Cluster source, the HBase service on the source will not be restarted automatically. The restart on the source needs to be executed manually, and then the continue setup step has to be called. There is no need to call this command if the source cluster is not a Classic Cluster.
      operationId: continueHbaseSetup
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ContinueHbaseSetupRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ContinueHbaseSetupResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/suspendHbasePolicy:
    post:
      summary: Suspend an HBase replication policy.
      description: Pauses an active HBase replication policy. Note that if the destination cluster's Cloudera Manager API version is higher than 50 then it suspends all HBase replication policies between the same source and destination cluster, while if it is less than 45 then it only suspends the selected policy. Suspend is not available for versions between 45 and 50.
      operationId: suspendHbasePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/SuspendHbasePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/SuspendHbasePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/activateHbasePolicy:
    post:
      summary: Resume a suspended HBase replication policy.
      description: Resumes an HBase replication policy if it has previously been suspended. Note that if the destination cluster's Cloudera Manager API version is higher than 50 then it resumes all HBase replication policies between the same source and destination cluster, while if it is less than 45 then it only resumes the selected policy. Resume is not available for versions between 45 and 50.
      operationId: activateHbasePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ActivateHbasePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ActivateHbasePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/deleteHbasePolicy:
    post:
      summary: Delete an HBase Replication Policy.
      description: Permanently deletes a specific HBase replication policy.
      operationId: deleteHbasePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeleteHbasePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/DeleteHbasePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/repairHbasePolicy:
    post:
      summary: Repair a failed HBase policy.
      description: Attempts to repair an HBase policy in failed update state by resending the last update.
      operationId: repairHbasePolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RepairHbasePolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/RepairHbasePolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/retryFailedHbaseSnapshots:
    post:
      summary: Retry failed snapshots for an HBase policy.
      description: Reruns the failed initial snapshots (and only the failed ones) in the replication policy if it has failed to replicate the existing data of some or all tables.
      operationId: retryFailedHbaseSnapshots
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RetryFailedHbaseSnapshotsRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/RetryFailedHbaseSnapshotsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/retryFailedHbaseFirstTimeSetup:
    post:
      summary: Retry failed first time setup for an HBase policy.
      description: Runs the first time setup configuration between the source and destination clusters if the first time setup has failed for the given policy.
      operationId: retryFailedHbaseFirstTimeSetup
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RetryFailedHbaseFirstTimeSetupRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/RetryFailedHbaseFirstTimeSetupResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listPairedHbaseClusters:
    post:
      summary: List cluster CRNs which have an active HBase policy.
      description: Provides a list of cluster CRNs with active HBase policies.
      operationId: listPairedHbaseClusters
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListPairedHbaseClustersRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListPairedHbaseClustersResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/verifyHbaseClusterPair:
    post:
      summary: Verify a source-destination cluster pair for HBase policy creation.
      description: Returns whether the cluster pair is ready for policy creation, or if there are some manual steps that need to be performed before.
      operationId: verifyHbaseClusterPair
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/VerifyHbaseClusterPairRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/VerifyHbaseClusterPairResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/getHbaseTimeSeries:
    post:
      summary: Retrieve time series data for an HBase replication peer.
      description: Returns time series data for an HBase replication peer based on the provided parameters.
      operationId: getHbaseTimeSeries
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetHbaseTimeSeriesRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/GetHbaseTimeSeriesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/downloadDiagnosticBundle:
    post:
      summary: Download diagnostic bundle for a policy.
      description: Downloads the previously collected diagnostic bundle if available. Before calling, the get-command-status command shall be polled until the command's status shows 'DOWNLOADABLE_WITH_CLI'. If the status is 'DOWNLOADABLE_WITH_URL', the result can be downloaded with the given result data URL only.
      operationId: downloadDiagnosticBundle
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DownloadDiagnosticBundleRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/DownloadDiagnosticBundleResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/collectDiagnosticBundle:
    post:
      summary: Collect diagnostic bundle for a policy.
      description: Triggers the collection of diagnostic bundle for a policy.
      operationId: collectDiagnosticBundle
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CollectDiagnosticBundleRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CollectDiagnosticBundleResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/getCommandStatus:
    post:
      summary: Get the status of the given CM command.
      description: Return the current status of the given CM command.
      operationId: getCommandStatus
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetCommandStatusRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/GetCommandStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/createSnapshotPolicy:
    post:
      summary: Create snapshot policy.
      description: Creates a snapshot policy.
      operationId: createSnapshotPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateSnapshotPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/CreateSnapshotPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/updateSnapshotPolicy:
    post:
      summary: Update snapshot policy.
      description: Updates a snapshot policy.
      operationId: updateSnapshotPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpdateSnapshotPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/UpdateSnapshotPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/deleteSnapshotPolicy:
    post:
      summary: Delete snapshot policy.
      description: Permanently deletes a specific snapshot policy.
      operationId: deleteSnapshotPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeleteSnapshotPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/DeleteSnapshotPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listSnapshotPolicies:
    post:
      summary: Get All Snapshot Policies.
      description: Provides a list of all snapshot policies across all available clusters.
      operationId: listSnapshotPolicies
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListSnapshotPoliciesRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListSnapshotPoliciesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/getSnapshotPolicy:
    post:
      summary: Get Snapshot Policy.
      description: Retrieves a specific snapshot policy from the cluster specified in the request.
      operationId: getSnapshotPolicy
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetSnapshotPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/GetSnapshotPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/activateSnapshotPolicy:
    post:
      summary: Resume snapshot policy.
      description: Resumes a specific snapshot policy.
      operationId: activateSnapshotPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ActivateSnapshotPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ActivateSnapshotPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/suspendSnapshotPolicy:
    post:
      summary: Suspend snapshot policy.
      description: Suspends a specific snapshot policy.
      operationId: suspendSnapshotPolicy
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/SuspendSnapshotPolicyRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/SuspendSnapshotPolicyResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/listSnapshotPolicyJobs:
    post:
      summary: List snapshot policy jobs.
      description: Lists jobs triggered by a snapshot policy.
      operationId: listSnapshotPolicyJobs
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListSnapshotPolicyJobsRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/ListSnapshotPolicyJobsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/replicationmanager/restoreSnapshot:
    post:
      summary: Restore snapshot.
      description: Restores a specific snapshot.
      operationId: restoreSnapshot
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RestoreSnapshotRequest'
      responses:
        200:
          description: Describes a successful response to a valid request.
          schema:
            $ref: '#/definitions/RestoreSnapshotResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
definitions:
  Error:
    type: object
    description: An object returned on an error.
    properties:
      code:
        type: string
        description: The error code.
      message:
        type: string
        description: The error message.
  ListClustersRequest:
    type: object
    description: Request to list clusters.
  ListClustersResponse:
    type: object
    description: Response object for list clusters request.
    required:
      - unreachableClusters
      - clusters
    properties:
      unreachableClusters:
        description: List of errors for unreachable clusters.
        type: array
        items:
          $ref: '#/definitions/ApiError'
      clusters:
        type: array
        description: List of clusters.
        items:
          $ref: '#/definitions/Cluster'
  ListClusterServiceStatusesRequest:
    type: object
    description: Request object to list cluster statuses.
  ListClusterServiceStatusesResponse:
    type: object
    description: Response object for listing of cluster statuses.
    properties:
      statuses:
        type: array
        description: List of statuses by cluster.
        items:
          $ref: '#/definitions/ClusterServiceStatuses'
  ListAllCredentialsRequest:
    type: object
    description: Request object for listing all cloud credentials on all clusters.
  ListAllCredentialsResponse:
    type: object
    description: Response object for list credentials request.
    required:
      - unreachableClusters
      - credentials
    properties:
      unreachableClusters:
        description: List of errors for unreachable clusters.
        type: array
        items:
          $ref: '#/definitions/ApiError'
      credentials:
        description: List of credentials by cluster.
        type: array
        items:
          $ref: '#/definitions/CredentialsResponse'
  GetCredentialsRequest:
    type: object
    description: Request object to retrieve specific cloud credentials.
    required:
      - clusterCrn
    properties:
      clusterCrn:
        description: CRN of the cluster where the credential is.
        type: string
      credentialName:
        description: Name of the credential. If both name and Id are specified, the Id is considered.
        type: string
      credentialId:
        description: Id of the credential. If both name and Id are specified, the Id is considered.
        type: string
  GetCredentialsResponse:
    type: object
    description: Response for credential request.
    properties:
      credentials:
        type: array
        description: List of credentials.
        items:
          $ref: '#/definitions/CredentialDetails'
  DeleteCredentialRequest:
    type: object
    description: Request object for deleting a credential.
    required:
      - name
    properties:
      name:
        description: Name of the cloud credential to delete.
        type: string
  DeleteCredentialResponse:
    type: object
    description: Response object for delete credential operation.
    properties:
      errors:
        description: The list of response errors in case of a partial failure while deleting the credential.
        type: array
        items:
          $ref: '#/definitions/ApiError'
  CreateAwsCredentialRequest:
    type: object
    description: Request object for creating AWS IAM or Access & Secret Key cloud credentials.
    required:
      - name
      - clusters
      - type
    properties:
      name:
        description: Name of the credential.
        type: string
      clusters:
        description: List of cluster CRNs where the credential should be created.
        type: array
        items:
          type: string
      type:
        description: 'Type of the credential. Additional required parameters by type: IAM: none; ACCESSKEY: accessKey, secretKey. Superfluous parameters are ignored. Providing IAM will create an IAM Role-based Authentication account in Cloudera Manager. Providing ACCESSKEY will create an AWS Access Key Authentication account in Cloudera Manager.'
        $ref: '#/definitions/AwsCloudCredentialType'
      accessKey:
        description: AWS access key.
        type: string
        x-sensitive: true
      secretKey:
        description: AWS secret key.
        type: string
        x-sensitive: true
  CreateAwsCredentialResponse:
    type: object
    description: Response object for creating AWS credentials.
    properties:
      errors:
        description: The list of response errors in case of a partial failure while creating the credential.
        type: array
        items:
          $ref: '#/definitions/ApiError'
  UpdateAwsCredentialRequest:
    type: object
    description: Request object for updating AWS cloud credentials.
    required:
      - name
      - type
    properties:
      name:
        description: Name of the credential to update.
        type: string
      type:
        description: 'Type of the credential. Additional accepted parameters by type: IAM: none; ACCESSKEY: accessKey, secretKey. Superfluous parameters are ignored.'
        $ref: '#/definitions/AwsCloudCredentialType'
      accessKey:
        description: AWS access key.
        type: string
        x-sensitive: true
      secretKey:
        description: AWS secret key.
        type: string
        x-sensitive: true
  UpdateAwsCredentialResponse:
    type: object
    description: Response object for updating AWS credentials.
    properties:
      errors:
        description: The list of response errors in case of partial failure (e.g. updating the credential failed on one of three clusters).
        type: array
        items:
          $ref: '#/definitions/ApiError'
  CreateAbfsCredentialRequest:
    type: object
    description: 'Request object for creating ABFS cloud credentials. Currently supported cloud credentials: ABFS Access Key for Ambari clusters, ABFS Client Secret for CM clusters.'
    required:
      - name
      - clusters
      - type
    properties:
      name:
        description: Name of the credential.
        type: string
      clusters:
        description: List of cluster CRNs where the credential should be created.
        type: array
        items:
          type: string
      type:
        description: 'Type of the credential. Additional required parameters by type: ACCESSKEY: storageAccountName, accessKey; CLIENTKEY: clientId, clientSecretKey, tenantId. Superfluous parameters are ignored. Providing ACCESSKEY will create an ABFS Access Key based account in Ambari. Providing CLIENTKEY will create an Azure Active Directory Service Principal account in Cloudera Manager. ACCESSKEY is only supported on Ambari, while CLIENTKEY is only supported on Cloudera Manager.'
        $ref: '#/definitions/AbfsCloudCredentialType'
      accessKey:
        description: ABFS access key.
        type: string
        x-sensitive: true
      storageAccountName:
        description: ABFS storage account name.
        type: string
      clientId:
        description: Client ID of an Active Directory service principal account.
        type: string
      clientSecretKey:
        description: Client Key of an Active Directory service principal account.
        type: string
        x-sensitive: true
      tenantId:
        description: Tenant ID of an Active Directory service principal account.
        type: string
  CreateAbfsCredentialResponse:
    type: object
    description: Response object for creating ABFS credentials.
    properties:
      errors:
        description: The list of response errors in case of a partial failure while creating the credential.
        type: array
        items:
          $ref: '#/definitions/ApiError'
  UpdateAbfsCredentialRequest:
    type: object
    description: Request object for updating ABFS cloud credentials.
    required:
      - name
      - type
    properties:
      name:
        description: Name of the credential to update.
        type: string
      type:
        description: 'Type of the credential. Additional accepted parameters by type: ACCESSKEY: storageAccountName, accessKey; CLIENTKEY: clientId, clientSecretKey, tenantId. Superfluous parameters are ignored. ACCESSKEY is only supported on Ambari, while CLIENTKEY is only supported on Cloudera Manager.'
        $ref: '#/definitions/AbfsCloudCredentialType'
      accessKey:
        description: ABFS access key.
        type: string
        x-sensitive: true
      storageAccountName:
        description: ABFS storage account name.
        type: string
      clientId:
        description: Client ID of an Active Directory service principal account.
        type: string
      clientSecretKey:
        description: Client Key of an Active Directory service principal account.
        type: string
        x-sensitive: true
      tenantId:
        description: Tenant ID of an Active Directory service principal account.
        type: string
  UpdateAbfsCredentialResponse:
    type: object
    description: Response object for updating ABFS credentials.
    properties:
      errors:
        description: List of response errors in case of partial failure (e.g. updating the credential failed on one of three clusters).
        type: array
        items:
          $ref: '#/definitions/ApiError'
  CreateGcsCredentialRequest:
    type: object
    description: Request object for creating GCS cloud credentials.
    required:
      - name
      - clusters
      - type
    properties:
      name:
        description: Name of the credential.
        type: string
      clusters:
        description: List of cluster CRNs where the credential should be created.
        type: array
        items:
          type: string
      type:
        description: 'Type of the credential. Additional accepted parameters by type: PRIVATEKEY: clientEmail, privateKeyId, privateKey. Superfluous parameters are ignored.'
        $ref: '#/definitions/GcsCloudCredentialType'
      clientEmail:
        description: Client email.
        type: string
      privateKeyId:
        description: GCS private key ID.
        type: string
      privateKey:
        description: GCS private key.
        type: string
        x-sensitive: true
  CreateGcsCredentialResponse:
    type: object
    description: Response object for creating GCS credentials.
    properties:
      errors:
        description: The list of response errors in case of a partial failure while creating the credential.
        type: array
        items:
          $ref: '#/definitions/ApiError'
  UpdateGcsCredentialRequest:
    type: object
    description: Request object for updating GCS cloud credentials.
    required:
      - name
      - type
    properties:
      name:
        description: Name of the credential to update.
        type: string
      type:
        description: 'Type of the credential. Additional accepted parameters by type: PRIVATEKEY: clientEmail, privateKeyId, privateKey. Superfluous parameters are ignored.'
        $ref: '#/definitions/GcsCloudCredentialType'
      clientEmail:
        description: Client email.
        type: string
      privateKeyId:
        description: GCS private key ID.
        type: string
      privateKey:
        description: GCS private key.
        type: string
        x-sensitive: true
  UpdateGcsCredentialResponse:
    type: object
    description: Response object for updating GCS credentials.
    properties:
      errors:
        description: List of response errors in case of partial failure (e.g. updating the credential failed on one of three clusters).
        type: array
        items:
          $ref: '#/definitions/ApiError'
  GetClusterConfigRequest:
    type: object
    description: Request object for getClusterConfig.
    required:
      - clusterCrn
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster.
  GetClusterConfigResponse:
    type: object
    description: Response object for getClusterConfig.
    properties:
      clusterCrn:
        description: The CRN of the cluster.
        type: string
      cmApiVersion:
        description: Cloudera Manager API version.
        type: integer
        format: int32
      underlyingFsForHive:
        description: Underlying file system for Hive.
        type: string
        enum:
          - HDFS
          - S3
          - WASB
          - ABFS
          - GCS
      dmx:
        description: Configuration related to DMX.
        type: object
        properties:
          hbaseSuspend:
            description: Suspend type for HBase policies.
            $ref: '#/definitions/HbaseSuspendType'
      featureSupport:
        description: A map of available features and whether they are supported on the cluster.
        type: object
        additionalProperties:
          type: boolean
      services:
        description: A list of service configurations.
        type: array
        items:
          $ref: '#/definitions/ServiceConfiguration'
  ServiceConfiguration:
    description: Configuration related to a service.
    type: object
    properties:
      name:
        description: The name of the service.
        type: string
      configs:
        description: Service configuration map.
        type: object
        additionalProperties:
          type: string
  HbaseSuspendType:
    description: Describes how suspend and resume affects HBase policies on the cluster. 'ALL' means that suspend/resume affects all HBase policies with the same source and destination cluster, while 'POLICY' means that only the selected policy gets suspended/resumed. 'NOT_SUPPORTED' means that this feature is not available on the cluster.
    type: string
    enum:
      - POLICY
      - ALL
      - NOT_SUPPORTED
  ListPoliciesRequest:
    type: object
    description: Request object for listing all policies.
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the policies are stored.
  ListPoliciesResponse:
    type: object
    description: Response object for a list policies request.
    required:
      - unreachableClusters
      - policyErrors
      - policies
    properties:
      unreachableClusters:
        description: List of errors for unreachable clusters.
        type: array
        items:
          $ref: '#/definitions/ApiError'
      policyErrors:
        description: List of policy errors.
        type: array
        items:
          $ref: '#/definitions/ApiError'
      policies:
        description: List of policies.
        type: array
        items:
          $ref: '#/definitions/Policy'
  DeletePolicyRequest:
    type: object
    description: Delete a replication policy.
    required:
      - clusterCrn
      - policyName
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the policy is.
      policyName:
        type: string
        description: Policy name to delete.
  DeletePolicyResponse:
    type: object
    description: Response object for deletePolicy.
  CreatePolicyRequest:
    type: object
    description: Create a replication policy.
    required:
      - clusterCrn
      - policyName
      - policyDefinition
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the policy will be created.
      policyName:
        type: string
        description: Name of the new policy.
      policyDefinition:
        description: Policy definition.
        $ref: '#/definitions/PolicyDefinition'
  CreatePolicyResponse:
    type: object
    description: Response object for createPolicy.
  UpdatePolicyRequest:
    type: object
    description: Update a replication policy request.
    required:
      - clusterCrn
      - policyId
      - updatePolicyDefinition
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster where the policy will be updated.
      policyId:
        type: string
        description: The ID of the policy to be updated.
      updatePolicyDefinition:
        description: The policy definition.
        $ref: '#/definitions/UpdatePolicyDefinition'
  UpdatePolicyDefinition:
    type: object
    description: Policy update request definition.
    properties:
      name:
        description: The policy name.
        type: string
      suspend:
        description: Whether to suspend the policy. Changing this is the same as using suspend-policy (suspend = true) and activate-policy (suspend = false).
        type: boolean
      sourceUpdateDataset:
        description: The source dataset to replicate.
        $ref: '#/definitions/SourceUpdateDataset'
      frequencyInSec:
        description: Policy's frequency in seconds.
        type: integer
        format: int64
      targetDataset:
        description: The path of the dataset to replicate to.
        type: string
      startTime:
        description: Policy start time.
        type: string
        format: date-time
      endTime:
        description: Policy end time.
        type: string
        format: date-time
      distcpMaxMaps:
        description: Maximum Map jobs to use for replication.
        type: integer
        format: int64
      distcpMapBandwidth:
        description: Maximum bandwidth to use for replication.
        type: integer
        format: int64
      queueName:
        description: YARN queue name if not default.
        type: string
      tdeSameKey:
        description: Whether to use TDE same key.
        type: boolean
      description:
        description: Description of the policy.
        type: string
      enableSnapshotBasedReplication:
        description: Whether to enable snapshot based replication.
        type: boolean
      cloudEncryptionAlgorithm:
        description: The type of cloud encryption algorithm. Can be used only for HDP/Ambari managed clusters. Supported values are AES256,SSE-KMS.
        type: string
      cloudEncryptionKey:
        description: The encryption key for the selected cloud encryption algorithm.
        type: string
      plugins:
        description: The list of plugins.
        x-default: null
        type: array
        items:
          type: string
      hiveExternalTableBaseDirectory:
        description: The base directory path on the target where to put the replicated Hive external tables.
        type: string
      cmPolicySubmitUser:
        description: CM policy submit user.
        $ref: '#/definitions/CmPolicySubmitUser'
  UpdatePolicyResponse:
    type: object
    description: Response object for updatePolicy.
  CreateHbasePolicyRequest:
    type: object
    description: Create an HBase replication policy.
    required:
      - clusterCrn
      - policyName
      - policyDefinition
    properties:
      clusterCrn:
        description: CRN of the destination cluster.
        type: string
      policyName:
        type: string
        description: Name of the new policy.
      policyDefinition:
        description: Policy definition.
        $ref: '#/definitions/HbasePolicyDefinition'
  CreateHbasePolicyResponse:
    type: object
    description: Response object for createHbasePolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  UpdateHbasePolicyRequest:
    type: object
    description: Update HBase replication policy request.
    required:
      - clusterCrn
      - policyId
      - updateHbasePolicyDefinition
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster where the policy will be updated.
      policyId:
        type: string
        description: The ID of the policy to be updated.
      updateHbasePolicyDefinition:
        description: The policy definition.
        $ref: '#/definitions/UpdateHbasePolicyDefinition'
  UpdateHbasePolicyDefinition:
    type: object
    description: HBase policy update request definition.
    properties:
      name:
        type: string
        description: The policy name.
      description:
        type: string
        description: Description of the policy.
      tables:
        description: List of tables to be replicated. The items should be in "namespace:tablename" format.
        x-default: null
        type: array
        items:
          type: string
  UpdateHbasePolicyResponse:
    type: object
    description: Response object for updateHbasePolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      requestId:
        type: string
        description: The ID of the request. Populated only for Ambari backend.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request (Successful or an error).
  ContinueHbaseSetupRequest:
    type: object
    description: Continue an HBase setup for Classic Cluster source.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: The CRN of the destination cluster.
      policyId:
        type: string
        description: The ID of the HBase policy.
  ContinueHbaseSetupResponse:
    type: object
    description: Response object for continueHbaseSetup.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  ActivateHbasePolicyRequest:
    type: object
    description: Activate an HBase replication policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: CRN of the destination cluster.
      policyId:
        type: string
        description: ID of the HBase policy.
  ActivateHbasePolicyResponse:
    type: object
    description: Response object for activateHbasePolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  SuspendHbasePolicyRequest:
    type: object
    description: Suspend an HBase replication policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: CRN of the destination cluster.
      policyId:
        type: string
        description: ID of the HBase policy.
  SuspendHbasePolicyResponse:
    type: object
    description: Response object for suspendHbasePolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  DeleteHbasePolicyRequest:
    type: object
    description: Request object to delete an HBase replication policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: CRN of the destination cluster.
      policyId:
        type: string
        description: ID of the HBase policy.
      force:
        type: boolean
        description: Option to force delete an Hbase policy. It should be used if the normal delete fails (e.g. when the source cluster is unreachable).
  DeleteHbasePolicyResponse:
    type: object
    description: Response object for deleteHbasePolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  RepairHbasePolicyRequest:
    type: object
    description: Attempt to repair an HBase replication policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: CRN of the destination cluster.
      policyId:
        type: string
        description: ID of the HBase policy.
  RepairHbasePolicyResponse:
    type: object
    description: Response object for repairHbasePolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  RetryFailedHbaseSnapshotsRequest:
    type: object
    description: Request object to retry failed snapshots for an HBase policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: CRN of the destination cluster.
      policyId:
        type: string
        description: ID of the HBase policy.
  RetryFailedHbaseSnapshotsResponse:
    type: object
    description: Response object for retryFailedHbaseSnapshots.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  RetryFailedHbaseFirstTimeSetupRequest:
    type: object
    description: Request object to retry first time setup for an HBase policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: CRN of the destination cluster.
      policyId:
        type: string
        description: ID of the HBase policy.
      machineUser:
        description: Machine user details to use for the replication. If not specified, an internal machine user will be created and synchronized to the required environments.
        $ref: '#/definitions/MachineUser'
      sourceRestartType:
        description: Type of restart for the source cluster. This is only accepted if the source is not a Classic Cluster and the destination has restart-type support. Default is ROLLING_RESTART.
        $ref: '#/definitions/RestartType'
      targetRestartType:
        description: Type of restart for the destination cluster. This is only accepted if the cluster has restart-type support. Default is ROLLING_RESTART.
        $ref: '#/definitions/RestartType'
  RetryFailedHbaseFirstTimeSetupResponse:
    type: object
    description: Response object for retryFailedHbaseFirstTimeSetup.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  ListPairedHbaseClustersRequest:
    type: object
    description: Request to list all paired HBase cluster CRNs.
  ListPairedHbaseClustersResponse:
    type: object
    description: Response object for listPairedHbaseClusters.
    properties:
      pairings:
        description: The list of CRN pairings.
        type: array
        items:
          $ref: '#/definitions/HbaseCrnPairs'
      crnsMissingHbaseService:
        description: Cluster CRNs where the HBase service was missing and pairing status could not be determined.
        type: array
        items:
          type: string
      unreachableClusters:
        description: The list of errors for unreachable clusters.
        type: array
        items:
          $ref: '#/definitions/ApiError'
  VerifyHbaseClusterPairRequest:
    type: object
    description: Request to verify a cluster pairing for HBase policy creation prerequisites.
    required:
      - sourceClusterCrn
      - destinationClusterCrn
    properties:
      sourceClusterCrn:
        type: string
        description: CRN of the source cluster.
      destinationClusterCrn:
        type: string
        description: CRN of the destination cluster.
  VerifyHbaseClusterPairResponse:
    type: object
    description: Response object for verifyHbaseClusterPair.
    properties:
      pairingStatus:
        description: The current status of pairing.
        type: string
      pairedStatus:
        description: Substatus of an active pairing. Indicates if a pairing is resettable or in an erroneous state.
        type: string
      pairingMessage:
        description: Description of the pairing status.
        type: string
      beforePolicySteps:
        description: Manual steps to perform before HBase policy creation.
        type: object
        properties:
          summary:
            description: Summary of the steps to perform.
            type: string
          documentationLink:
            description: Link to the HBase replication manual steps documentation.
            type: string
          source:
            description: Steps to perform for the source cluster.
            $ref: '#/definitions/VerificationSteps'
          destination:
            description: Steps to perform for the destination cluster.
            $ref: '#/definitions/VerificationSteps'
      afterPolicySteps:
        description: Manual steps to perform after HBase policy creation.
        type: object
        properties:
          summary:
            description: Summary of the steps to perform.
            type: string
          source:
            description: Steps to perform for the source cluster.
            $ref: '#/definitions/VerificationSteps'
          destination:
            description: Steps to perform for the destination cluster.
            $ref: '#/definitions/VerificationSteps'
  GetHbaseTimeSeriesRequest:
    type: object
    description: Request to retrieve time series data for an HBase replication peer.
    required:
      - clusterCrn
      - policyId
      - metric
    properties:
      clusterCrn:
        description: CRN of the destination cluster of the policy.
        type: string
      policyId:
        description: ID of the policy that the time series data is requested for.
        type: string
      metric:
        description: Name of the HBase replication peer metric.
        type: string
        enum:
          - age_of_last_shipped_operation
          - log_edits_filtered_rate
          - log_edits_read_rate
          - log_queue_size
          - log_read_in_bytes_rate
          - shipped_batches_rate
          - shipped_ops_rate
          - shipped_size_in_kb_rate
          - age_of_last_shipped_operation_25th_percentile
          - age_of_last_shipped_operation_75th_percentile
          - age_of_last_shipped_operation_90th_percentile
          - age_of_last_shipped_operation_98th_percentile
          - age_of_last_shipped_operation_99th_percentile
          - age_of_last_shipped_operation_999th_percentile
          - age_of_last_shipped_operation_max
          - age_of_last_shipped_operation_mean
          - age_of_last_shipped_operation_median
          - age_of_last_shipped_operation_min
          - age_of_last_shipped_operation_rate
          - shipped_hfiles_rate
          - size_of_hfile_refs_queue
      startTime:
        description: Start time of the time series data. Defaults to 5 minutes before end time.
        type: string
        format: date-time
      endTime:
        description: End time of the time series data. Defaults to current time.
        type: string
        format: date-time
      rollup:
        description: Aggregate rollup level for time series data. Defaults to RAW data.
        type: string
        enum:
          - RAW
          - TEN_MINUTELY
          - HOURLY
          - SIX_HOURLY
          - DAILY
          - WEEKLY
  GetHbaseTimeSeriesResponse:
    type: object
    description: Response object for getHbaseTimeSeries.
    properties:
      hbasePeerName:
        type: string
        description: Name of the HBase peer used for replication.
      sourceCluster:
        type: string
        description: 'Name of source cluster in the format: "dataCenterName$cluster name", for example "DC-Europe$My Source 42".'
      targetCluster:
        type: string
        description: 'Name of destination cluster in the format: "dataCenterName$cluster name", for example "DC-US$My Destination 17".'
      timeSeries:
        description: Time series data with additional metadata.
        $ref: '#/definitions/HbaseTimeSeries'
  HbaseTimeSeries:
    type: object
    description: HBase time series data and metadata.
    properties:
      metadata:
        description: Metadata regarding the time series data.
        $ref: '#/definitions/HbaseTimeSeriesMetadata'
      data:
        description: List of time series data points.
        type: array
        items:
          $ref: '#/definitions/HbaseTimeSeriesData'
  HbaseTimeSeriesMetadata:
    type: object
    description: Time series metadata.
    properties:
      metricName:
        description: Name of the metric.
        type: string
      startTime:
        description: Start time of the time series data.
        type: string
        format: date-time
      endTime:
        description: End time of the time series data.
        type: string
        format: date-time
      attributes:
        description: Attributes of the resource providing time series data.
        $ref: '#/definitions/HbaseTimeSeriesMetadataAttributes'
      unitNumerator:
        description: Unit numerator.
        type: string
      unitDenominator:
        description: Unit denominator.
        type: string
  HbaseTimeSeriesMetadataAttributes:
    type: object
    description: Attributes of the resource providing time series data.
    properties:
      serviceName:
        description: Service name.
        type: string
      clusterName:
        description: Cluster name.
        type: string
  HbaseTimeSeriesData:
    type: object
    description: Time series data point.
    properties:
      timestamp:
        description: Timestamp of the data point.
        type: string
        format: date-time
      value:
        description: Value of the data point.
        type: number
        format: double
  SuspendPolicyRequest:
    type: object
    description: Suspend a replication policy.
    required:
      - clusterCrn
      - policyName
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the policy is.
      policyName:
        type: string
        description: Policy name to suspend.
  SuspendPolicyResponse:
    type: object
    description: Response object for suspendPolicy.
  ActivatePolicyRequest:
    type: object
    description: Activate a replication policy.
    required:
      - clusterCrn
      - policyName
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the policy is.
      policyName:
        type: string
        description: Policy name to resume.
  ActivatePolicyResponse:
    type: object
    description: Response object for resumePolicy.
  DownloadDiagnosticBundleRequest:
    type: object
    description: Request to download the diagnostic bundle for the given cluster and command id.
    required:
      - clusterCrn
      - commandId
    properties:
      clusterCrn:
        description: The CRN of the target cluster.
        type: string
      commandId:
        description: The command ID from the response of collect-diagnostic-bundle command.
        type: string
  DownloadDiagnosticBundleResponse:
    type: object
    description: Response object for download-diagnostic-bundle. On certain clusters this response will show if the download is only available directly from CM.
    properties:
      bundleFile:
        x-skip-logging: true
        description: Base64 encoded content of the diagnostic bundle zip file. A script like this can be used to save the response as file 'cat response.json | jq -r '.bundleFile' | base64 -D > bundle.zip'
        type: string
        format: byte
  CollectDiagnosticBundleRequest:
    type: object
    description: Triggers a diagnostic bundle collect command for the given cluster and policyName.
    required:
      - clusterCrn
      - policyName
    properties:
      clusterCrn:
        description: The CRN of the target cluster.
        type: string
      policyName:
        description: Name of the policy.
        type: string
  CollectDiagnosticBundleResponse:
    type: object
    description: Response object for collect-diagnostic-bundle.
    required:
      - commandId
    properties:
      commandId:
        description: ID of the diagnostic bundle collection command issued against the CM. Polling get-command-status with this command id returns the current state of the command.
        format: int64
        type: integer
      name:
        description: Name of the policy.
        type: string
      active:
        description: Whether the diagnostic bundle command is active.
        type: boolean
      startTime:
        description: Start time of the diagnostic bundle collection command.
        type: string
      resultMessage:
        description: Diagnostic bundle collection command result message.
        type: string
  GetCommandStatusRequest:
    type: object
    description: Get the current status of any CM command.
    required:
      - clusterCrn
      - commandId
    properties:
      clusterCrn:
        description: The CRN of the target cluster.
        type: string
      commandId:
        description: ID of a CM command on the cluster.
        type: string
  GetCommandStatusResponse:
    type: object
    description: Response object for get command status.
    required:
      - commandId
    properties:
      commandId:
        description: Id of the CM command.
        format: int64
        type: integer
      success:
        description: Whether the diagnostic collection is successful.
        type: boolean
      active:
        description: Whether the command is still active.
        type: boolean
      name:
        description: Name of the policy.
        type: string
      startTime:
        description: Start time of the CM command.
        type: string
      endTime:
        description: End time of the CM command.
        type: string
      resultDataUrl:
        description: Some commands have result data URL for downloading the diagnostic bundle. On certain CM versions the bundle download is only available through this URL, but not with download-diagnostic-bundle operation.
        type: string
      resultMessage:
        description: Result message of the command.
        type: string
      bundleStatus:
        description: The current status of the command.
        type: string
        enum:
          - IN_PROGRESS
          - DOWNLOADABLE_WITH_URL
          - DOWNLOADABLE_WITH_CLI
          - FAILED
      bundleStatusMessage:
        description: Further information about the current command status.
        type: string
  RerunPolicyRequest:
    type: object
    description: Request object for rerun policy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster where the replication policy run gets executed.
      policyId:
        type: string
        description: The ID of the policy to rerun.
  RerunPolicyResponse:
    type: object
    description: Response object for rerun policy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster where the replication policy run gets executed.
      requestId:
        type: string
        description: The ID of the request. Populated only for Ambari backend.
      message:
        type: string
        description: The output of rerun policy command.
      status:
        type: string
        description: The status of the request.
  ListPolicyJobsRequest:
    type: object
    description: Request object for listing policy jobs.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster where the replication policy is.
      policyId:
        type: string
        description: The ID of the policy.
      pageSize:
        type: integer
        format: int32
        minimum: 1
        maximum: 100
        x-paging-page-size: true
        description: The size of each page. Defaults to 10.
        default: 10
      startingToken:
        type: string
        x-paging-input-token: true
        description: A token to specify where to start paginating. This is the nextToken from a previously truncated response. 1 or empty for first page.
  ListPolicyJobsResponse:
    type: object
    description: Response object for listPolicyJobs.
    properties:
      totalResults:
        description: Total number of jobs for the policy.
        type: integer
        format: int64
      results:
        description: Number of jobs in the response.
        type: integer
        format: int64
      jobs:
        description: List of policy jobs.
        x-paging-result: true
        type: array
        items:
          $ref: '#/definitions/PolicyInstanceResponse'
      nextToken:
        type: string
        x-paging-output-token: true
        description: The token to use when requesting the next set of results. If not present, there are no additional results.
  AbortPolicyRequest:
    type: object
    description: Request object for abortPolicy.
    required:
      - clusterCrn
      - policyId
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster where the replication policy is.
      policyId:
        type: string
        description: The ID of the policy.
  AbortPolicyResponse:
    type: object
    description: Response object for abortPolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the input cluster.
      requestId:
        type: string
        description: The ID of the request. Populated only for Ambari backend.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  CreateSnapshotPolicyRequest:
    type: object
    description: Request object for createSnapshotPolicy.
    required:
      - clusterCrn
      - snapshotPolicyDefinition
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy will be created.
        type: string
      snapshotPolicyDefinition:
        description: The details of the snapshot policy to be created.
        $ref: '#/definitions/SnapshotPolicyDefinition'
  CreateSnapshotPolicyResponse:
    type: object
    description: Response object for createSnapshotPolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster from where the snapshot policy has been created.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  UpdateSnapshotPolicyRequest:
    type: object
    description: Request object for updateSnapshotPolicy.
    required:
      - clusterCrn
      - name
      - snapshotPolicyDefinition
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy will be updated.
        type: string
      name:
        description: The name of the snapshot policy to be updated.
        type: string
      snapshotPolicyDefinition:
        description: The details of the snapshot policy to be updated.
        $ref: '#/definitions/SnapshotPolicyDefinition'
  UpdateSnapshotPolicyResponse:
    type: object
    description: Response object for updateSnapshotPolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster from where the snapshot policy has been updated.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  DeleteSnapshotPolicyRequest:
    type: object
    description: Request object for deleteSnapshotPolicy.
    required:
      - clusterCrn
      - name
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy is.
        type: string
      name:
        description: The name of the snapshot policy to be deleted.
        type: string
  DeleteSnapshotPolicyResponse:
    type: object
    description: Response object for deleteSnapshotPolicy.
    properties:
      clusterCrn:
        type: string
        description: The CRN of the cluster from where the snapshot policy was deleted.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  SuspendSnapshotPolicyRequest:
    type: object
    description: Request object for suspendSnapshotPolicy.
    required:
      - clusterCrn
      - name
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy is.
        type: string
      name:
        description: The name of the snapshot policy to be suspended.
        type: string
  SuspendSnapshotPolicyResponse:
    type: object
    description: Response object for suspendSnapshotPolicy.
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the snapshot policy is.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  ActivateSnapshotPolicyRequest:
    type: object
    description: Request object for activateSnapshotPolicy.
    required:
      - clusterCrn
      - name
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy is.
        type: string
      name:
        description: The name of the snapshot policy to be resumed.
        type: string
  ActivateSnapshotPolicyResponse:
    type: object
    description: Response object for activateSnapshotPolicy.
    properties:
      clusterCrn:
        type: string
        description: CRN of the cluster where the snapshot policy is.
      message:
        type: string
        description: The detailed description of the action taken.
      status:
        type: string
        description: The status of the request.
  ListSnapshotPolicyJobsRequest:
    type: object
    description: Request object for listSnapshotPolicyJobs.
    required:
      - clusterCrn
      - name
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy is.
        type: string
      name:
        description: The name of the snapshot policy whose snapshot history will be retrieved.
        type: string
  ListSnapshotPolicyJobsResponse:
    type: object
    description: Response object for listSnapshotPolicyJobs.
    required:
      - jobs
      - errorResponses
    properties:
      jobs:
        type: array
        description: The list of snapshot jobs that ran for the snapshot policy.
        items:
          $ref: '#/definitions/SnapshotJob'
      errorResponses:
        type: array
        description: List of snapshot policy errors.
        items:
          $ref: '#/definitions/ApiError'
  RestoreSnapshotRequest:
    type: object
    description: Request object for restoreSnapshot.
    required:
      - clusterCrn
      - restoreSnapshotArguments
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy is.
        type: string
      restoreSnapshotArguments:
        description: Arguments for restoring a specific snapshot.
        $ref: '#/definitions/RestoreSnapshotArguments'
  RestoreSnapshotResponse:
    type: object
    description: Response object for restoreSnapshot.
    properties:
      restoreSnapshotCommand:
        description: Details of the CM command that was created to restore the snapshot.
        $ref: '#/definitions/GetCommandStatusResponse'
  ApiError:
    type: object
    description: API error.
    required:
      - code
      - message
      - status
    properties:
      code:
        type: integer
        format: int32
        description: Error code.
      message:
        description: Error message.
        type: string
      status:
        description: Error status.
        type: string
      clusterUrl:
        type: string
        description: Cluster URL.
      requestId:
        description: Request ID.
        type: string
  ClusterServiceStatuses:
    type: object
    description: Describes the status of services running on a cluster.
    required:
      - clusterCrn
      - serviceStatuses
    properties:
      clusterCrn:
        description: Cluster CRN.
        type: string
      serviceStatuses:
        description: List of service statuses.
        type: array
        items:
          $ref: '#/definitions/ServiceInfo'
  Cluster:
    type: object
    description: Describes a Datalake, Datahub or Classic cluster.
    required:
      - crn
      - name
      - dataCenter
      - clusterType
      - replicationEngineType
      - clusterManagerType
      - clusterManagerUrl
      - clusterUrl
    properties:
      crn:
        description: Cluster CRN.
        type: string
      name:
        description: Cluster name.
        type: string
      dataCenter:
        description: Cluster data center.
        type: string
      clusterType:
        description: Cluster type.
        type: string
        enum:
          - CLASSIC
          - SDX
          - DISTROX
      replicationEngineType:
        description: Replication engine type.
        type: string
        enum:
          - CM
          - DLM_ENGINE
      clusterManagerType:
        description: Cluster Manager type.
        type: string
        enum:
          - CLOUDERA_MANAGER
          - AMBARI
      clusterManagerUrl:
        description: Cluster Manager URL.
        type: string
      clusterUrl:
        description: Cluster URL.
        type: string
      totalHosts:
        description: Total hosts on the cluster.
        type: integer
        format: int32
      location:
        description: Cluster location.
        $ref: '#/definitions/Location'
      stackCrn:
        description: Stack CRN.
        type: string
      description:
        description: Cluster description.
        type: string
      stackMajorVersion:
        description: Stack major version.
        type: string
      stackVersion:
        description: Stack version.
        type: string
      uuid:
        description: Cluster UUID from Cloudera Manager if the cluster has CM backend.
        type: string
      environmentCrn:
        description: CRN of the cluster's environment.
        type: string
      knoxUrl:
        description: Knox URL if the cluster was registered with one, null otherwise.
        type: string
      cloudAccountProvider:
        description: Cloud account provider.
        type: string
        enum:
          - AWS
          - ADLS
          - WASB
          - ABFS
          - GCS
      cmName:
        description: Cloudera Manager name.
        type: string
      codProperties:
        description: Additional properties for operational databases.
        $ref: '#/definitions/CodProperties'
  Location:
    type: object
    description: Location object.
    required:
      - id
      - country
      - city
      - latitude
      - longitude
    properties:
      id:
        description: Location ID.
        type: integer
        format: int64
      country:
        description: Country.
        type: string
      city:
        description: City.
        type: string
      latitude:
        description: Latitude.
        type: number
        format: double
      longitude:
        description: Longitude.
        type: number
        format: double
  CodProperties:
    type: object
    description: Additional properties for operational databases.
    properties:
      operationalDatabaseName:
        description: Name of the corresponding operational database..
        type: string
  CustomConfigs:
    type: object
    description: Custom key/value configurations.
    required:
      - name
      - value
      - confidential
    properties:
      name:
        description: Name.
        type: string
      value:
        description: Value.
        type: string
      confidential:
        description: Whether the value is confidential.
        type: boolean
  CredentialsResponse:
    type: object
    description: Response object for cloud credentials.
    required:
      - clusterCrn
      - clusterUrl
      - replicationEngineType
      - credentials
    properties:
      clusterCrn:
        description: Cluster CRN.
        type: string
      clusterUrl:
        description: Cluster URL.
        type: string
      replicationEngineType:
        description: Replication engine type.
        type: string
        enum:
          - CM
          - DLMENGINE
      credentials:
        description: Cloud credentials.
        $ref: '#/definitions/CredentialCollection'
  CredentialCollection:
    type: object
    description: Cloud Credentials listing.
    required:
      - totalResults
      - results
      - credentials
    properties:
      totalResults:
        description: Total number cloud credentials.
        type: integer
        format: int64
      results:
        description: Number of cloud credentials in the response.
        type: integer
        format: int64
      credentials:
        description: Cloud credential details.
        type: array
        items:
          $ref: '#/definitions/CredentialDetails'
  CredentialDetails:
    type: object
    description: Cloud credential details for by-name or by-id cloud credential request.
    required:
      - id
      - name
      - provider
      - authType
      - creationTime
      - lastModifiedTime
    properties:
      id:
        description: Credential id.
        type: string
      name:
        description: Credential name.
        type: string
      provider:
        description: Credential provider.
        type: string
      authType:
        description: Authentication type.
        type: string
      creationTime:
        description: Creation time.
        type: string
        format: date-time
      lastModifiedTime:
        description: Last modified time.
        type: string
        format: date-time
      configs:
        description: Configurations.
        type: object
        additionalProperties:
          type: string
      customConfigs:
        description: Custom configurations.
        type: array
        items:
          $ref: '#/definitions/CustomConfigs'
  ServiceInfo:
    type: object
    description: Service status definition.
    required:
      - serviceName
      - status
    properties:
      serviceName:
        description: Service name.
        type: string
      status:
        description: Service status.
        type: string
  Policy:
    type: object
    description: Replication policy definition.
    required:
      - policyId
      - name
      - type
      - status
      - frequency
      - endTime
      - jobs
      - report
    properties:
      policyId:
        description: Policy id.
        type: string
      name:
        description: Policy name.
        type: string
      type:
        description: Policy type.
        type: string
      status:
        description: Current status of the policy.
        type: string
      frequency:
        description: Frequency in seconds when the policy runs.
        type: integer
        format: int64
      endTime:
        description: End time of policy run or when it repeats.
        type: string
        format: date-time
      jobs:
        description: List of policy runs.
        type: array
        items:
          $ref: '#/definitions/PolicyInstanceResponse'
      report:
        description: Policy report.
        $ref: '#/definitions/PolicyReport'
      description:
        description: Policy description.
        type: string
      executionType:
        description: Policy execution type.
        type: string
      sourceDataset:
        description: Source dataset of replication.
        type: array
        items:
          type: string
      targetDataset:
        description: Target dataset of replication.
        type: array
        items:
          type: string
      creationTime:
        description: Policy creation time.
        type: string
        format: date-time
      startTime:
        description: Policy start time.
        type: string
        format: date-time
      sourceCluster:
        description: Source cluster of replication.
        type: string
      sourceClusterCrn:
        description: CRN of the source cluster.
        type: string
      targetCluster:
        description: Target cluster of replication if not cloud.
        type: string
      targetClusterCrn:
        description: CRN of the target cluster.
        type: string
      customProperties:
        description: Custom replication properties.
        type: object
        additionalProperties:
          type: string
      plugins:
        description: Plugins.
        type: array
        x-default: null
        items:
          type: string
      nextRun:
        description: Next expected run of the policy.
        type: string
      target:
        description: Replication target details.
        $ref: '#/definitions/TargetDetails'
  PolicyInstanceResponse:
    type: object
    description: Policy execution details.
    required:
      - id
      - policyId
      - status
      - startTime
    properties:
      id:
        description: Policy instance command id.
        type: string
      policyId:
        description: Policy id.
        type: string
      status:
        description: Policy command status.
        type: string
      startTime:
        description: Command start time.
        type: string
        format: date-time
      endTime:
        description: Command end time.
        type: string
        format: date-time
      trackingInfo:
        description: JSON data to track polciy status.
        type: string
      message:
        description: Output of the policy command.
        type: string
      jobType:
        description: Job type.
        type: string
      totalSteps:
        description: Total number of steps.
        type: integer
        format: int32
      completedSteps:
        description: Number of completed steps.
        type: integer
        format: int32
  PolicyReportDetails:
    type: object
    description: Policy report details.
    required:
      - status
      - endTime
    properties:
      status:
        description: Status of the command.
        type: string
      endTime:
        description: End time.
        type: string
        format: date-time
  PolicyReport:
    type: object
    description: Policy report.
    properties:
      lastSucceededInstance:
        description: Last successful instance.
        $ref: '#/definitions/PolicyReportDetails'
      lastFailedInstance:
        description: Last failed instance.
        $ref: '#/definitions/PolicyReportDetails'
  TargetDetails:
    type: object
    description: Target details.
    required:
      - environmentCrn
    properties:
      environmentCrn:
        description: Target's environment CRN.
        type: string
      warehouseCrn:
        description: Target's warehouse CRN.
        type: string
  PolicyDefinition:
    type: object
    description: Policy creation request definition.
    required:
      - name
      - type
      - sourceDataset
      - frequencyInSec
    properties:
      name:
        description: Name of the new policy.
        type: string
      type:
        description: Policy replication type.
        type: string
        enum:
          - FS
          - HIVE
          - HBASE
      sourceDataset:
        description: Source dataset to replicate.
        $ref: '#/definitions/SourceDataset'
      frequencyInSec:
        description: Policy's frequency in seconds.
        type: integer
        format: int64
      targetDataset:
        description: Dataset to replicate to.
        type: string
      cloudCredential:
        description: Cloud credentials to use if replicating to Cloud.
        type: string
      sourceCluster:
        description: 'Name of source cluster in the format: "dataCenterName$cluster name", for example "DC-Europe$My Source 42.'
        type: string
      targetCluster:
        description: 'Name of destination cluster in the format: "dataCenterName$cluster name", for example "DC-US$My Destination 17".'
        type: string
      startTime:
        description: Start time.
        type: string
        format: date-time
      endTime:
        description: End time.
        type: string
        format: date-time
      distcpMaxMaps:
        description: Maximum Map jobs to use for replication.
        type: integer
        format: int64
      distcpMapBandwidth:
        description: Maximum bandwidth to use for replication.
        type: integer
        format: int64
      queueName:
        description: YARN queue name if not default.
        type: string
      tdeSameKey:
        description: TDE same key.
        type: boolean
      description:
        description: Description of the policy.
        type: string
      enableSnapshotBasedReplication:
        description: Enable snapshot based replication.
        type: boolean
      cloudEncryptionAlgorithm:
        description: The type of cloud encryption algorithm. Can be used only for HDP/Ambari managed clusters. Supported values are AES256,SSE-KMS.
        type: string
      cloudEncryptionKey:
        description: Cloud encryption key.
        type: string
      plugins:
        description: Plugins.
        type: array
        x-default: null
        items:
          type: string
      hiveExternalTableBaseDirectory:
        description: Hive external table base directory.
        type: string
      cmPolicySubmitUser:
        description: CM policy submit user.
        $ref: '#/definitions/CmPolicySubmitUser'
  SourceDataset:
    type: object
    description: Extra properties for the source dataset.
    properties:
      hdfsArguments:
        description: HDFS arguments for HDFS and Hive replication.
        $ref: '#/definitions/HdfsArguments'
      hiveArguments:
        description: Arguments for Hive replication, null if HDFS replication.
        $ref: '#/definitions/HiveArguments'
  SourceUpdateDataset:
    type: object
    description: Extra properties for updating the source dataset.
    properties:
      hdfsArguments:
        description: Updatable arguments for HDFS replication.
        $ref: '#/definitions/HdfsUpdateArguments'
      hiveArguments:
        description: Updatable arguments for Hive replication, null if HDFS replication.
        $ref: '#/definitions/HiveArguments'
  HdfsArguments:
    type: object
    description: Extra properties for HDFS.
    properties:
      path:
        description: HDFS path. Mandatory for HDFS policies, otherwise optional.
        type: string
      replicationStrategy:
        description: Replication strategy.
        type: string
        enum:
          - DYNAMIC
          - STATIC
      mapReduceService:
        description: Name of the mapreduce service.
        type: string
      logPath:
        description: Job log path.
        type: string
      errorHandling:
        description: Error handling strategy.
        $ref: '#/definitions/ErrorHandling'
      preserve:
        description: Properties to preserve.
        $ref: '#/definitions/Preserve'
      deletePolicy:
        description: Deletion behavior.
        type: string
        enum:
          - KEEP_DELETED_FILES
          - DELETE_TO_TRASH
          - DELETE_PERMANENTLY
      alert:
        description: Alerting behavior.
        $ref: '#/definitions/Alert'
      exclusionFilters:
        description: Exclusion filters in glob format.
        type: array
        x-default: null
        items:
          type: string
  HdfsUpdateArguments:
    type: object
    description: Updatable HDFS properties.
    properties:
      replicationStrategy:
        description: Replication strategy.
        type: string
        enum:
          - DYNAMIC
          - STATIC
      mapReduceService:
        description: The name of the MapReduce service.
        type: string
      logPath:
        description: The HDFS path where the replication log files should be written to.
        type: string
      errorHandling:
        description: Error handling strategy.
        $ref: '#/definitions/ErrorHandling'
      preserve:
        description: Properties to preserve.
        $ref: '#/definitions/Preserve'
      deletePolicy:
        description: Deletion behavior for the target side when files are removed on the source side. KEEP_DELETED_FILES:Keep deleted source files on the target, DELETE_TO_TRASH:Remove the deleted source files to trash on the target, DELETE_PERMANENTLY:Permanently remove deleted files on the target.
        type: string
        enum:
          - KEEP_DELETED_FILES
          - DELETE_TO_TRASH
          - DELETE_PERMANENTLY
      alert:
        description: Alerting behavior.
        $ref: '#/definitions/Alert'
      exclusionFilters:
        description: Exclusion filters in glob format.
        type: array
        x-default: null
        items:
          type: string
  ErrorHandling:
    type: object
    description: Error handling behavior.
    required:
      - skipChecksumChecks
      - skipListingChecksumChecks
      - abortOnError
      - abortOnSnapshotDiffFailures
    properties:
      skipChecksumChecks:
        description: Skip checksum checks.
        type: boolean
      skipListingChecksumChecks:
        description: Skip checksum checks for copy-listing.
        type: boolean
      abortOnError:
        description: Abort policy on error.
        type: boolean
      abortOnSnapshotDiffFailures:
        description: Abort policy if there are snapshot diff failures.
        type: boolean
  Preserve:
    type: object
    description: Properties to preserve after replication.
    required:
      - blockSize
      - replicationCount
      - permissions
      - extendedAttributes
    properties:
      blockSize:
        description: Block size.
        type: boolean
      replicationCount:
        description: Replication count.
        type: boolean
      permissions:
        description: Permissions.
        type: boolean
      extendedAttributes:
        description: Extended attributes.
        type: boolean
  Alert:
    type: object
    description: Cloudera Manager alerting behavior.
    required:
      - onFailure
      - onStart
      - onSuccess
      - onAbort
    properties:
      onFailure:
        description: Alert on failure.
        type: boolean
      onStart:
        description: Alert on start.
        type: boolean
      onSuccess:
        description: ALert on success.
        type: boolean
      onAbort:
        description: Alert on abort.
        type: boolean
  HiveArguments:
    type: object
    description: Hive replication arguments.
    properties:
      databasesAndTables:
        description: Scope of the replication.
        type: array
        items:
          $ref: '#/definitions/HiveDatabaseAndTables'
      sentryPermissions:
        description: Include or exclude Sentry permissions.
        type: string
        enum:
          - INCLUDE
          - EXCLUDE
      skipUrlPermissions:
        description: Skip URL permissions.
        type: boolean
      numThreads:
        description: Number of threads to use during replication.
        type: integer
        format: int64
  HiveDatabaseAndTables:
    type: object
    description: Hive replication scope.
    required:
      - database
    properties:
      database:
        description: Database to replicate.
        type: string
      tablesIncludeRegex:
        description: Regex to match included tables.
        type: string
      tablesExcludeRegex:
        description: Regex to match excluded tables.
        type: string
  CmPolicySubmitUser:
    type: object
    description: CM Policy submit user.
    properties:
      userName:
        description: Username.
        type: string
      sourceUser:
        description: Source user.
        type: string
  HbasePolicyDefinition:
    type: object
    description: HBase policy definition.
    required:
      - hbasePolicyArguments
      - sourceCluster
      - targetCluster
      - initialSnapshot
    properties:
      hbasePolicyArguments:
        description: HBase policy arguments.
        $ref: '#/definitions/HbasePolicyArguments'
      sourceCluster:
        description: 'Name of source cluster in the format: "dataCenterName$cluster name", for example "DC-Europe$My Source 42."'
        type: string
      targetCluster:
        description: 'Name of destination cluster in the format: "dataCenterName$cluster name", for example "DC-US$My Destination 17".'
        type: string
      initialSnapshot:
        description: If set to true, the current data in the table will be replicated before the HBase replication peer gets enabled. If set to false, only the data changed after the policy creation will be replicated.
        type: boolean
      description:
        description: Description of the policy.
        type: string
      machineUser:
        description: Machine user details to use for the replication. If not specified, an internal machine user will be created and synchronized to the required environments.
        $ref: '#/definitions/MachineUser'
      queueName:
        description: YARN queue name to use for initial snapshot if not default.
        type: string
      distcpMaxMaps:
        description: Maximum Map jobs to use for initial snapshot.
        type: integer
        format: int64
      distcpMapBandwidth:
        description: Maximum bandwidth per mapper to use for initial snapshot.
        type: integer
        format: int64
      sourceRestartType:
        description: Type of restart for the source cluster. This is only accepted if the source is not a Classic Cluster and the destination has restart-type support. Default is ROLLING_RESTART.
        $ref: '#/definitions/RestartType'
      targetRestartType:
        description: Type of restart for the destination cluster. This is only accepted if the cluster has restart-type support. Default is ROLLING_RESTART.
        $ref: '#/definitions/RestartType'
  HbasePolicyArguments:
    type: object
    description: HBase replication parameters.
    properties:
      tables:
        description: List of tables to be replicated. The key should be in "namespace:tablename" format. If this list is empty, then the whole database will be replicated.
        type: array
        x-default: null
        items:
          type: string
      credentialLocation:
        description: Location of the credentials provided for initial snapshots. Setting it to 'SAFETY_VALVE' indicates that the credentials are available in safety valves on the source cluster, otherwise credentials have to be defined in the 'cloudCredential' property. Defaults to 'EXTERNAL_ACCOUNT'.
        type: string
        enum:
          - EXTERNAL_ACCOUNT
          - SAFETY_VALVE
      cloudCredential:
        description: Cloud credentials to use to replicate the initial snapshot if the credential location is specified as 'EXTERNAL_ACCOUNT'.
        type: string
      validateReplicationSetup:
        description: Whether to validate replication setup after policy creation.
        type: boolean
      forceSetup:
        description: Whether setup should be forced if one of the clusters is already paired with another cluster. Forced setup is only possible if either there are no HBase replication policies between the pair or if the other cluster in the pair is currently unreachable. Note that when set to 'true' the existing pairing for the selected source or target cluster will be cleared and the first-time setup will be initiated with the chosen new source or destination cluster.
        type: boolean
      databaseArguments:
        description: Optional parameters used for HBase database replication.
        $ref: '#/definitions/HbaseDatabaseArguments'
  HbaseDatabaseArguments:
    type: object
    description: HBase database replication arguments.
    properties:
      replicationStrategy:
        description: Whether to replicate all tables or only the ones where the replication scope has been set. Defaults to ALL_TABLES.
        type: string
        enum:
          - ALL_TABLES
          - TABLES_WITH_REPLICATION_SCOPE_SET
  MachineUser:
    type: object
    description: Username and password for the machine user.
    required:
      - user
      - password
      - createUser
    properties:
      user:
        description: Username.
        type: string
      password:
        description: Password.
        x-sensitive: true
        type: string
      createUser:
        description: This option has no effect if the machine user already exists. Otherwise if 'true', a new machine user is created. If 'false', an error is returned indicating that the user does not exist.
        type: boolean
  HbaseCrnPairs:
    type: object
    description: HBase CRN pairs.
    properties:
      pairedCrns:
        description: The list of CRNs which are peers of each other.
        type: array
        items:
          type: string
  VerificationSteps:
    type: object
    description: Verification steps.
    properties:
      clusterManagerUrl:
        description: The cluster manager URL to reach the cluster's UI.
        type: string
      steps:
        description: The list of manual steps to perform or verify.
        type: array
        items:
          type: string
  AwsCloudCredentialType:
    type: string
    description: AWS cloud credential type.
    enum:
      - IAM
      - ACCESSKEY
  AbfsCloudCredentialType:
    type: string
    description: ABFS cloud credential type.
    enum:
      - ACCESSKEY
      - CLIENTKEY
  GcsCloudCredentialType:
    type: string
    description: GCS cloud credential type.
    enum:
      - PRIVATEKEY
  SnapshotPolicyType:
    type: string
    description: The snapshot type of snapshot policies.
    enum:
      - HDFS
      - HBASE
  RestartType:
    type: string
    description: Type of restart for a cluster.
    enum:
      - RESTART
      - ROLLING_RESTART
  ListSnapshotPoliciesRequest:
    type: object
    description: Request object for listing all snapshot policies.
  ListSnapshotPoliciesResponse:
    type: object
    description: Response object for a list snapshot policies request.
    required:
      - errorResponses
      - snapshotPolicyResponses
    properties:
      errorResponses:
        description: List of snapshot policy errors.
        type: array
        items:
          $ref: '#/definitions/ApiError'
      snapshotPolicyResponses:
        description: List of snapshot policies.
        type: array
        items:
          $ref: '#/definitions/GetSnapshotPolicyResponse'
  GetSnapshotPolicyRequest:
    type: object
    description: Request object for getSnapshotPolicy.
    required:
      - clusterCrn
      - name
    properties:
      clusterCrn:
        description: CRN of the cluster where the snapshot policy is.
        type: string
      name:
        description: The name of the snapshot policy to be retrieved.
        type: string
  GetSnapshotPolicyResponse:
    type: object
    description: Response object for getSnapshotPolicy.
    required:
      - name
      - cluster
      - type
      - state
      - scope
      - schedule
      - alert
      - snapshotRetentionCount
      - paused
    properties:
      name:
        description: The name of the snapshot policy.
        type: string
      cluster:
        description: The cluster that stores that snapshot policy.
        type: string
      type:
        description: The type of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyType'
      state:
        description: The current state of the snapshot policy.
        $ref: '#/definitions/SnapshotState'
      scope:
        description: Defines the datasets that are covered by the snapshot policy. Contains path patterns for HDFS snapshot policies and table regular expressions for HBase snapshot policies.
        type: array
        items:
          type: string
      schedule:
        description: The schedule of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyScheduleResponse'
      alert:
        description: Alerting behaviour of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyAlertResponse'
      snapshotRetentionCount:
        description: The number of snapshots to be retained for snapshot policies.
        $ref: '#/definitions/SnapshotRetentionCountResponse'
      paused:
        description: Whether the snapshot policy is suspended.
        type: boolean
      description:
        description: The description of the snapshot policy.
        type: string
      lastCommand:
        description: Latest command of the snapshot policy. The command might still be active.
        $ref: '#/definitions/SnapshotCommand'
      lastSuccessfulCommand:
        description: Last successful command of the snapshot policy.
        $ref: '#/definitions/SnapshotCommand'
      hbaseArguments:
        description: Arguments specific to HBase snapshot policies.
        $ref: '#/definitions/HbaseSnapshotPolicyArgumentsResponse'
      hdfsArguments:
        description: Arguments specific to HDFS snapshot policies.
        $ref: '#/definitions/HdfsSnapshotPolicyArgumentsResponse'
  SnapshotPolicyScheduleResponse:
    type: object
    description: Defines the schedule of a snapshot policy.
    required:
      - minuteOfHour
      - hourOfDay
      - dayOfWeek
      - dayOfMonth
      - monthOfYear
    properties:
      minuteOfHour:
        description: Minute of the hour that hourly, daily, weekly, monthly and yearly snapshots will be created. Valid values are 0 to 59.
        type: integer
        format: int32
      hourOfDay:
        description: Hour of the day that daily, weekly, monthly and yearly snapshots will be created. Valid values are 0 to 23.
        type: integer
        format: int32
      dayOfWeek:
        description: Day of the week that weekly snapshots will be created. Valid values are 1 to 7, 1 representing Sunday.
        type: integer
        format: int32
      dayOfMonth:
        description: Day of the month that monthly and yearly snapshots will be created. Valid values are 1 to 31. Additionally 0 to -30 can be used to specify offsets from the last day of the month.
        type: integer
        format: int32
      monthOfYear:
        description: Month of the year that yearly snapshots will be created. Valid values are 1 to 12, 1 representing January.
        type: integer
        format: int32
      hoursForHourly:
        description: Hours of the day that hourly snapshots will be created. Valid values are 0 to 23. If this list is null or empty, then hourly snapshots are created for every hour.
        type: array
        items:
          type: integer
          format: int32
  SnapshotState:
    type: string
    description: The current state of a snapshot policy.
    enum:
      - RUNNING
      - ACTIVE
      - SUSPENDED
      - ERROR
  SnapshotCommand:
    type: object
    description: Detailed information about a snapshot command.
    required:
      - id
      - name
      - startTime
      - endTime
      - active
      - success
      - resultMessage
    properties:
      id:
        description: The id of the command.
        type: integer
        format: int64
      name:
        description: The name of the command.
        type: string
      startTime:
        description: The start time of the command.
        type: string
        format: date-time
      endTime:
        description: The end time of the command, if the command is finished.
        type: string
        format: date-time
      active:
        description: Whether the command is currenlty active.
        type: boolean
      success:
        description: Whether the command was successful, if the command has finished.
        type: boolean
      resultMessage:
        description: The result message of the command, if the command has finished.
        type: string
      parent:
        description: Reference to the parent command, if any.
        $ref: '#/definitions/GetCommandStatusResponse'
      children:
        description: List of references to the child commands.
        type: array
        items:
          $ref: '#/definitions/GetCommandStatusResponse'
  HdfsSnapshotPolicyArgumentsResponse:
    type: object
    description: Arguments specific to HDFS snapshot policies.
    required:
      - pathPatterns
    properties:
      pathPatterns:
        description: The path patterns specifying the paths. Paths matching any of them will be eligible for snapshot creation. The pattern matching characters that can be specific are those supported by HDFS.
        type: array
        items:
          type: string
  HBaseSnapshotStorageType:
    type: string
    description: The location where the HBase shapshot is stored.
    enum:
      - LOCAL
      - REMOTE_S3
  HbaseSnapshotPolicyArgumentsResponse:
    type: object
    description: Arguments specific to HBase snapshot policies.
    required:
      - tableRegExps
      - storage
    properties:
      tableRegExps:
        description: The regular expressions specifying the tables. Tables matching any of them will be eligible for snapshot creation.
        type: array
        items:
          type: string
      storage:
        description: The location where the snapshots should be stored.
        $ref: '#/definitions/HBaseSnapshotStorageType'
  SnapshotRetentionCountResponse:
    type: object
    description: Defines the number of snapshots to be retained for snapshot policies.
    required:
      - hourlySnapshots
      - dailySnapshots
      - weeklySnapshots
      - monthlySnapshots
      - yearlySnapshots
    properties:
      hourlySnapshots:
        description: The number of hourly snapshots to be retained.
        type: integer
        format: int64
      dailySnapshots:
        description: The number of daily snapshots to be retained.
        type: integer
        format: int64
      weeklySnapshots:
        description: The number of weekly snapshots to be retained.
        type: integer
        format: int64
      monthlySnapshots:
        description: The number of monthly snapshots to be retained.
        type: integer
        format: int64
      yearlySnapshots:
        description: The number of yearly snapshots to be retained.
        type: integer
        format: int64
  SnapshotPolicyAlertResponse:
    type: object
    description: Alerting behaviour for snapshot policy activities. Defines whether an alert is sent on certain events related to snapshot policies.
    required:
      - onStart
      - onSuccess
      - onFail
      - onAbort
    properties:
      onStart:
        description: Whether to alert on start of snapshot creation/deletion activity.
        type: boolean
      onSuccess:
        description: Whether to alert on successful completion of snapshot creation/deletion activity.
        type: boolean
      onFail:
        description: Whether to alert on failure of snapshot creation/deletion activity.
        type: boolean
      onAbort:
        description: Whether to alert on abort of snapshot creation/deletion activity.
        type: boolean
  SnapshotPolicyDefinition:
    type: object
    description: Details of the snapshot policy to be created.
    required:
      - name
      - type
      - snapshotRetentionCount
      - schedule
    properties:
      name:
        description: The name of the snapshot policy.
        type: string
      type:
        description: The type of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyType'
      snapshotRetentionCount:
        description: The number of snapshots to be retained for the snapshot policy.
        $ref: '#/definitions/SnapshotRetentionCountRequest'
      schedule:
        description: The schedule of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyScheduleRequest'
      hdfsArguments:
        description: Arguments specific to HDFS snapshot policies.
        $ref: '#/definitions/HdfsSnapshotPolicyArgumentsRequest'
      hbaseArguments:
        description: Arguments specific to HBase snapshot policies.
        $ref: '#/definitions/HbaseSnapshotPolicyArgumentsRequest'
      alert:
        description: Alerting behaviour of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyAlertRequest'
      paused:
        description: Whether to pause the snapshot policy.
        type: boolean
  HdfsSnapshotPolicyArgumentsRequest:
    type: object
    description: Arguments specific to HDFS snapshot policies.
    required:
      - pathPatterns
    properties:
      pathPatterns:
        description: The path patterns specifying the paths. Paths matching any of them will be eligible for snapshot creation. The pattern matching characters that can be specific are those supported by HDFS.
        type: array
        items:
          type: string
  HbaseSnapshotPolicyArgumentsRequest:
    type: object
    description: Arguments specific to HBase snapshot policies.
    required:
      - tableRegExps
      - storage
    properties:
      tableRegExps:
        description: The regular expressions specifying the tables. Tables matching any of them will be eligible for snapshot creation.
        type: array
        items:
          type: string
      storage:
        description: The location where the snapshots should be stored.
        $ref: '#/definitions/HBaseSnapshotStorageType'
  SnapshotRetentionCountRequest:
    type: object
    description: Defines the number of snapshots to be retained for snapshot policies.
    required:
      - hourlySnapshots
      - dailySnapshots
      - weeklySnapshots
      - monthlySnapshots
      - yearlySnapshots
    properties:
      hourlySnapshots:
        description: The number of hourly snapshots to be retained.
        type: integer
        format: int64
      dailySnapshots:
        description: The number of daily snapshots to be retained.
        type: integer
        format: int64
      weeklySnapshots:
        description: The number of weekly snapshots to be retained.
        type: integer
        format: int64
      monthlySnapshots:
        description: The number of monthly snapshots to be retained.
        type: integer
        format: int64
      yearlySnapshots:
        description: The number of yearly snapshots to be retained.
        type: integer
        format: int64
  SnapshotPolicyAlertRequest:
    type: object
    description: Alerting behaviour for snapshot policy activities. Defines whether an alert is sent on certain events related to snapshot policies.
    required:
      - onStart
      - onSuccess
      - onFail
      - onAbort
    properties:
      onStart:
        description: Whether to alert on start of snapshot creation/deletion activity.
        type: boolean
      onSuccess:
        description: Whether to alert on successful completion of snapshot creation/deletion activity.
        type: boolean
      onFail:
        description: Whether to alert on failure of snapshot creation/deletion activity.
        type: boolean
      onAbort:
        description: Whether to alert on abort of snapshot creation/deletion activity.
        type: boolean
  SnapshotPolicyScheduleRequest:
    type: object
    description: Defines the schedule of a snapshot policy.
    required:
      - minuteOfHour
      - hourOfDay
      - dayOfWeek
      - dayOfMonth
      - monthOfYear
    properties:
      minuteOfHour:
        description: Minute of the hour that hourly, daily, weekly, monthly and yearly snapshots will be created. Valid values are 0 to 59.
        type: integer
        format: int32
      hourOfDay:
        description: Hour of the day that daily, weekly, monthly and yearly snapshots will be created. Valid values are 0 to 23.
        type: integer
        format: int32
      dayOfWeek:
        description: Day of the week that weekly snapshots will be created. Valid values are 1 to 7, 1 representing Sunday.
        type: integer
        format: int32
      dayOfMonth:
        description: Day of the month that monthly and yearly snapshots will be created. Valid values are 1 to 31. Additionally 0 to -30 can be used to specify offsets from the last day of the month.
        type: integer
        format: int32
      monthOfYear:
        description: Month of the year that yearly snapshots will be created. Valid values are 1 to 12, 1 representing January.
        type: integer
        format: int32
      hoursForHourly:
        description: Hours of the day that hourly snapshots will be created. Valid values are 0 to 23. If this list is null or empty, then hourly snapshots are created for every hour.
        type: array
        items:
          type: integer
          format: int32
  SnapshotJob:
    type: object
    description: Detailed information about a snapshot job.
    required:
      - id
      - name
      - startTime
      - endTime
      - schedule
      - snapshotRetentionCount
      - state
      - resultMessage
      - resultDataUrl
      - snapshotName
      - clusterId
    properties:
      id:
        type: integer
        description: The id of the snapshot command.
        format: int64
      name:
        type: string
        description: The name of the snapshot command.
      startTime:
        type: string
        description: The start time of the snapshot command.
        format: date-time
      endTime:
        type: string
        description: The end time of the snapshot command.
        format: date-time
      schedule:
        description: The schedule of the snapshot policy.
        $ref: '#/definitions/SnapshotPolicyScheduleResponse'
      snapshotRetentionCount:
        description: The number of snapshots to be retained for the snapshot policy.
        $ref: '#/definitions/SnapshotRetentionCountResponse'
      state:
        type: string
        description: The state of the snapshot created by the snapshot command.
      resultMessage:
        type: string
        description: The result message for a finished command.
      resultDataUrl:
        type: string
        description: The URL to the command's downloadable result data.
      snapshotName:
        type: string
        description: The name of the snapshot.
      clusterId:
        type: string
        description: The crn of the cluster where the snapshot is.
      hbaseResult:
        description: Detailed results for snapshot commands for HBase tables.
        $ref: '#/definitions/SnapshotResult'
      hdfsResult:
        description: Detaileds results for snapshot commands for HDFS paths.
        $ref: '#/definitions/SnapshotResult'
      estimatedExpiration:
        type: string
        description: The estimated expiration time of the snapshot created by the snapshot command.
        format: date-time
  SnapshotResult:
    type: object
    description: The detailed results of a snapshot command.
    required:
      - processedEntityCount
      - unprocessedEntityCount
      - createdSnapshotCount
      - deletedSnapshotCount
      - creationErrorCount
      - deletionErrorCount
    properties:
      processedEntityCount:
        type: integer
        description: The number of processed entities. Processed tables for HBase, paths for HDFS snapshots.
        format: int64
      unprocessedEntityCount:
        type: integer
        description: The number of unprocessed entities. Unprocessed tables for HBase, paths for HDFS snapshots.
        format: int64
      createdSnapshotCount:
        type: integer
        description: The number of snapshots created.
        format: int64
      deletedSnapshotCount:
        type: integer
        description: The number of snapshots deleted.
        format: int64
      creationErrorCount:
        type: integer
        description: The number of errors encountered when creating snapshots.
        format: int64
      deletionErrorCount:
        type: integer
        description: The number of errors encountered when deleting snapshots.
        format: int64
      processedEntities:
        type: array
        description: The list of processed entities. Processed tables for HBase, paths for HDFS snapshots.
        items:
          type: string
      unprocessedEntities:
        type: array
        description: The list of unprocessed entities. Unprocessed tables for HBase, paths for HDFS snapshots.
        items:
          type: string
      createdSnapshots:
        type: array
        description: The list of snapshots created.
        items:
          $ref: '#/definitions/StoredSnapshot'
      deletedSnapshots:
        type: array
        description: The list of snapshots deleted.
        items:
          $ref: '#/definitions/StoredSnapshot'
      creationErrors:
        type: array
        description: The list of errors encountered when creating snapshots.
        items:
          $ref: '#/definitions/SnapshotStoreError'
      deletionErrors:
        type: array
        description: The list of errors encountered when deleting snapshots.
        items:
          $ref: '#/definitions/SnapshotStoreError'
  StoredSnapshot:
    type: object
    description: Detailed description about a snapshot.
    required:
      - snapshotName
      - path
    properties:
      snapshotName:
        type: string
        description: The name of the snapshot.
      path:
        type: string
        description: The snapshotted HDFS path/HBase table.
      snapshotPath:
        type: string
        description: The fully qualified path of the snapshot.
      storage:
        description: Whether the snapshot is stored locally or remotely.
        $ref: '#/definitions/HBaseSnapshotStorageType'
      creationTime:
        type: string
        description: The creation time of the snapshot.
        format: date-time
  SnapshotStoreError:
    type: object
    description: Detailed description about a snapshot operation error.
    required:
      - snapshotName
      - path
      - error
    properties:
      snapshotName:
        type: string
        description: The name of the snapshot.
      path:
        type: string
        description: The HDFS path/HBase table name for which the snapshot error occurred.
      error:
        type: string
        description: The description of the error.
  RestoreSnapshotArguments:
    type: object
    description: Arguments for restoring a HDFS or HBase snapshot.
    required:
      - snapshotType
    properties:
      snapshotType:
        description: The type of the snapshot to be restored.
        $ref: '#/definitions/SnapshotPolicyType'
      restoreHdfsSnapshotArgs:
        description: Arguments for restoring a HDFS snapshot.
        $ref: '#/definitions/RestoreHdfsSnapshotArgs'
      restoreHBaseSnapshotArgs:
        description: Arguments for restoring a HBase snapshot.
        $ref: '#/definitions/RestoreHBaseSnapshotArgs'
  RestoreHBaseSnapshotArgs:
    type: object
    description: Arguments for restoring a HBase snapshot.
    required:
      - snapshotName
      - storageType
      - creationTime
      - isClone
    properties:
      snapshotName:
        description: The name of the snapshot to be restored.
        type: string
      storageType:
        description: Whether the snapshot is stored locally or remotely.
        $ref: '#/definitions/HBaseSnapshotStorageType'
      creationTime:
        description: The time when the snapshot to be restored was created. This value should equal the 'endTime' attribute of the snapshot restore command that created the snapshot.
        type: string
        format: date-time
      isClone:
        description: Whether to restore or clone the snapshot. Cloning a snapshot creates a new read/write table that serves the data kept at the time of the snapshot. The original table and the cloned table can be modified independently; new data written to one table does not show up on the other. Restoring a snapshot replaces the current version of a table with different version based on the snapshot.
        type: boolean
      tableName:
        description: If the hbase operation is 'clone', a table name should be provided, which will be the name of the new table created when cloning the snapshot. If the hbase operation is 'restore', the table name should be empty.
        type: string
  RestoreHdfsSnapshotArgs:
    type: object
    description: Arguments for restoring a HDFS snapshot.
    required:
      - path
      - snapshotName
      - snapshotPath
      - destinationPath
    properties:
      path:
        description: The snapshotted path.
        type: string
      snapshotName:
        description: The name of the snapshot to be restored.
        type: string
      snapshotPath:
        description: The absolute path of the snapshot to be restored.
        type: string
      destinationPath:
        description: The path to restore the snapshot into.
        type: string
      distCpArgs:
        description: The distcp arguments for restoring the snapshot. When this attribute is set, disctp will be used to restore the snapshot. When unset, the HDFS copy command will be used to restore the snapshot.
        $ref: '#/definitions/HdfsDistCpArgs'
  HdfsDistCpArgs:
    type: object
    description: The distcp arguments for restoring a HDFS snapshot.
    properties:
      mapreduceServiceName:
        type: string
        description: The MapReduce or YARN service to use.
      schedulerPoolName:
        type: string
        description: The name of a resource pool in the field. The value entered is used by the MapReduce Service you specified when Cloudera Manager executes the MapReduce job for restoring the snapshot.
      userName:
        type: string
        description: The CM user used to run the job restoring the snapshot.
      logPath:
        type: string
        description: An alternate path for logs.
      numMaps:
        type: integer
        format: int64
        description: The number of mappers to use for the mapreduce job restoring the snapshot.
      bandwidthPerMap:
        type: integer
        format: int64
        description: The maximum bandwidth (in MB) per mapper in the mapreduce job restoring the snapshot.
      abortOnError:
        type: boolean
        description: Whether to abort the job on an error. If selected, files copied up to that point remain in the destination, but no additional files are copied.
      replicationStrategy:
        type: string
        description: Replication strategy.
        enum:
          - DYNAMIC
          - STATIC
      skipChecksumChecks:
        type: boolean
        description: Whether to skip checksum checks. If set to true, checksum validation will not be performed.
      removeMissingFiles:
        type: boolean
        description: Whether to delete destination files that are missing in source.
      skipTrash:
        type: boolean
        description: Whether to permanently delete destination files that are missing in source.
      preserveBlockSize:
        type: boolean
        description: Whether to preserve the HDFS block size.
      preserveReplicationCount:
        type: boolean
        description: Whether to preserve the HDFS replication count.
      preservePermissions:
        type: boolean
        description: Whether to preserve the HDFS owner, group and permissions.

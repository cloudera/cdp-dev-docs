x-generated: Automatically generated by CDP protoc plugin. Do not edit manually.
swagger: '2.0'
x-endpoint-name: applications
x-products: CDP
x-form-factors: public
x-cdp-releases: BETA
info:
  version: 0.9.134 (BETA)
  title: Cloudera Applications Service
  license:
    name: Apache 2.0
  description: Applications is a web service for managing application lifecycle.
  termsOfService: https://www.cloudera.com/legal/commercial-terms-and-conditions.html
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /api/v1/applications/createApplication:
    post:
      summary: Create Application
      description: Creates an application.
      operationId: createApplication
      x-entitlement: DSP_APPLICATIONS_API_LIMITED_BETA
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateApplicationRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/CreateApplicationResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/applications/deleteApplication:
    post:
      summary: Delete Application
      description: Deletes an application.
      operationId: deleteApplication
      x-entitlement: DSP_APPLICATIONS_API_LIMITED_BETA
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeleteApplicationRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/DeleteApplicationResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/applications/describeApplication:
    post:
      summary: Describe Application
      description: Describes an application.
      operationId: describeApplication
      x-entitlement: DSP_APPLICATIONS_API_LIMITED_BETA
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DescribeApplicationRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/DescribeApplicationResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: false
  /api/v1/applications/listApplications:
    post:
      summary: List of Applications
      description: Provides a list of applications.
      operationId: listApplications
      x-entitlement: DSP_APPLICATIONS_API_LIMITED_BETA
      x-paging-default-max-items: 20
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListApplicationsRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/ListApplicationsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: false
definitions:
  Error:
    type: object
    description: An object returned on an error.
    properties:
      code:
        type: string
        description: The error code.
      message:
        type: string
        description: The error message.
  ApplicationType:
    type: string
    description: "CDP Application Type.\n `AIRFLOW` - Airflow `CSS` - Cloudera Semantic Search `NOTEBOOK` - Standalone Notebook Service `RAY` - Standalone Ray Service"
    enum:
      - CSS
  ApplicationHealthStatus:
    type: string
    description: "Health status of an Application.\n `HEALTHY` - Application is in a Healthy status. `UNHEALTHY` - Application is in an Unhealthy status. `UNKNOWN` - Application is in an Unknown status"
    enum:
      - HEALTHY
      - UNHEALTHY
      - UNKNOWN
  ApplicationState:
    type: string
    description: "Health state of an Application.\n `INFRA_PROVISIONING` - Application is provisioning and configuring required infra. `INFRA_PROVISIONED` - Underlying infra has been provisioned and configured. `INFRA_PROVISIONING_FAILED` - Underlying infra has been provisioned and configured. `STARTING` - Application is starting. `STARTED` - Application has started. `STARTING_FAILED` - Application starting failed. `STOPPING` - Application is stopping. `STOPPED` - Application is stopped. `STOPPING_FAILED` - Application stopping failed. `DELETING` - Application is being deleted. `DELETED` - Application is deleted. `DELETING_FAILED` - Application deleting failed."
    enum:
      - INFRA_PROVISIONING
      - INFRA_PROVISIONED
      - INFRA_PROVISIONING_FAILED
      - STARTING
      - STARTED
      - STARTING_FAILED
      - STOPPING
      - STOPPED
      - STOPPING_FAILED
      - DELETING
      - DELETED
      - DELETING_FAILED
  ApplicationSpotPolicy:
    type: string
    description: "Application policy for using spot tier in public cloud\n `DEFAULT` - By default application infra services and workload master would run on on-demand instances and the application workload executor will run on spot instances. `WORKLOAD` - `WORKLOAD` will run all application workloads including workload master (driver) on spot instamces. `NONE` - `NONE` will run all application services on on-demand instances. `ALL` - `ALL` will run all application services on spot instances."
    enum:
      - DEFAULT
      - WORKLOAD
      - NONE
    x-form-factors: public
  ApplicationInfo:
    type: object
    description: Details of an application.
    properties:
      applicationCrn:
        type: string
        description: The CRN of application.
      name:
        type: string
        description: The name of application.
      type:
        description: The type of application.
        $ref: '#/definitions/ApplicationType'
      applicationVersion:
        type: string
        description: The version of the installed application.
      size:
        type: string
        description: 'The size of the application refers to the specific amount of resources, such as CPU, memory, GPU and storage, that are allocated and guaranteed for that instance. Example Values: `TINY`,`SMALL`, `LARGE`, `XLARGE`, etc'
      applicationSpotPolicy:
        description: Spot instance policy of an application.
        $ref: '#/definitions/ApplicationSpotPolicy'
        x-form-factors: public
      status:
        description: The health status of the application.
        $ref: '#/definitions/ApplicationHealthStatus'
      actualState:
        description: The actual state of the application.
        $ref: '#/definitions/ApplicationState'
      desiredState:
        description: The desired state of the application.
        $ref: '#/definitions/ApplicationState'
      clusterCrn:
        type: string
        description: The compute cluster used by the application.
      environmentCrn:
        type: string
        description: The Environment CRN for the application.
      tags:
        type: object
        description: Tags to added to the cloud provider resources created.
        additionalProperties:
          type: string
        x-form-factors: public
  DescribeApplicationRequest:
    type: object
    description: Request object for the DescribeApplication method.
    required:
      - environment
      - application
    properties:
      environment:
        type: string
        description: The name or CRN of the environment.
      application:
        type: string
        description: The name or CRN of the pplication.
  DescribeApplicationResponse:
    type: object
    description: Response object for the DescribeApplication method.
    properties:
      application:
        description: The details of the application.
        $ref: '#/definitions/ApplicationInfo'
  ListApplicationsRequest:
    type: object
    description: Request object for the ListApplications method.
    required:
      - environment
    properties:
      environment:
        type: string
        description: The name or CRN of the environment.
      pageSize:
        type: integer
        format: int32
        minimum: 5
        maximum: 20
        x-paging-page-size: true
        description: The page size.
      pageToken:
        type: string
        x-paging-input-token: true
        description: A token to specify where to start paginating. This is the nextToken from a previously truncated response.
  ListApplicationsResponse:
    type: object
    description: Response object for the ListApplications method.
    properties:
      applications:
        type: array
        x-paging-result: true
        items:
          $ref: '#/definitions/ApplicationInfo'
        description: A detailed list of applications within the environment.
      nextPageToken:
        type: string
        x-paging-output-token: true
        description: The token to use when requesting the next set of results. If not present, there are no additional results.
  CreateApplicationRequest:
    type: object
    description: Request object for the CreateApplication method.
    required:
      - environment
      - name
      - type
    properties:
      environment:
        type: string
        description: The name or CRN of the environment in which application should be created.
      name:
        type: string
        description: The application name.
      type:
        description: The type of application.
        $ref: '#/definitions/ApplicationType'
      applicationVersion:
        type: string
        description: The version of the application to be installed. If not specified, latest supported version for the application will be used.
      size:
        type: string
        description: 'The size of the application refers to the specific amount of resources, such as CPU, memory, GPU and storage, that are allocated and guaranteed for that instance. Example Values: `TINY`,`SMALL`, `LARGE`, `XLARGE`, etc'
      applicationSpotPolicy:
        description: By default application infra services would run on on-demand instances and the application workloads on spot instances. Setting this config to `ALL` will run all application services on spot instances. Setting it to `NONE` will run all application services on on-demand instances.
        $ref: '#/definitions/ApplicationSpotPolicy'
        x-form-factors: public
      clusterCrn:
        type: string
        description: The CRN of the cluster in which application should be created. If not specified, default environment cluster wil be used.
      tags:
        type: object
        description: Tags to add to the cloud provider resources created.
        additionalProperties:
          type: string
        x-form-factors: public
      skipValidation:
        type: boolean
        description: Skip pre-flight validations if requested.
        default: false
  CreateApplicationResponse:
    type: object
    description: Response object for the CreateApplication method.
    properties:
      application:
        description: The details of the application.
        $ref: '#/definitions/ApplicationInfo'
      requestId:
        type: integer
        format: int64
        description: The request id to track the progress of the create operation.
  DeleteApplicationRequest:
    type: object
    description: Request object for the DeleteApplication method.
    required:
      - environment
      - application
    properties:
      environment:
        type: string
        description: The name or CRN of the environment.
      application:
        type: string
        description: The name or CRN of the application.
  DeleteApplicationResponse:
    type: object
    description: Response object for the DeleteApplication method.
    properties:
      application:
        description: The details of the application.
        $ref: '#/definitions/ApplicationInfo'
      requestId:
        type: integer
        format: int64
        description: The request id to track the progress of the delete operation.
x-audit: true


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>upgrade-datalake &#8212; CDP CLI 0.9.136 (BETA) documentation</title>
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/cdpcli.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../static/cdpcli.css" />
    
    <script id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
    <script src="../static/jquery.js"></script>
    <script src="../static/underscore.js"></script>
    <script src="../static/doctools.js"></script>
    
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="validate-aws-cloud-storage" href="validate-aws-cloud-storage.html" />
    <link rel="prev" title="update-to-aws-imds-v2" href="update-to-aws-imds-v2.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="validate-aws-cloud-storage.html" title="validate-aws-cloud-storage"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="update-to-aws-imds-v2.html" title="update-to-aws-imds-v2"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDP CLI 0.9.136 (BETA) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">datalake</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">upgrade-datalake</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="upgrade-datalake">
<span id="cli-cdp-datalake-upgrade-datalake"></span><h1>upgrade-datalake<a class="headerlink" href="#upgrade-datalake" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">subtitle</dt>
<dd class="field-odd"><p>OS or data platform upgrade for the SDX cluster.</p>
</dd>
<dt class="field-even">version</dt>
<dd class="field-even"><p>0.9.136</p>
</dd>
</dl>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>OS or data platform upgrade for the SDX cluster. You have the option to either specify one of ‘imageId’, ‘runtime’ or ‘lockComponents’ or both ‘imageId’ and ‘lockComponents’ or none of the parameters.</p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>  upgrade-datalake
--datalake-name &lt;value&gt;
<span class="o">[</span>--image-id &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--runtime &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--lock-components <span class="p">|</span> --no-lock-components<span class="o">]</span>
<span class="o">[</span>--dry-run <span class="p">|</span> --no-dry-run<span class="o">]</span>
<span class="o">[</span>--show-available-images <span class="p">|</span> --no-show-available-images<span class="o">]</span>
<span class="o">[</span>--show-latest-available-image-per-runtime <span class="p">|</span> --no-show-latest-available-image-per-runtime<span class="o">]</span>
<span class="o">[</span>--skip-backup <span class="p">|</span> --no-skip-backup<span class="o">]</span>
<span class="o">[</span>--skip-ranger-hms-metadata <span class="p">|</span> --no-skip-ranger-hms-metadata<span class="o">]</span>
<span class="o">[</span>--skip-atlas-metadata <span class="p">|</span> --no-skip-atlas-metadata<span class="o">]</span>
<span class="o">[</span>--skip-ranger-audits <span class="p">|</span> --no-skip-ranger-audits<span class="o">]</span>
<span class="o">[</span>--skip-datahub-validation <span class="p">|</span> --no-skip-datahub-validation<span class="o">]</span>
<span class="o">[</span>--skip-backup-validation <span class="p">|</span> --no-skip-backup-validation<span class="o">]</span>
<span class="o">[</span>--rolling-upgrade-enabled <span class="p">|</span> --no-rolling-upgrade-enabled<span class="o">]</span>
<span class="o">[</span>--cli-input-json &lt;value&gt;<span class="o">]</span>
<span class="o">[</span>--generate-cli-skeleton<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">--datalake-name</span></code> (string)</p>
<blockquote>
<div><p>The name or CRN of the datalake.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--image-id</span></code> (string)</p>
<blockquote>
<div><p>The id of an image to upgrade to</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--runtime</span></code> (string)</p>
<blockquote>
<div><p>The runtime version to upgrade to</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--lock-components</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-lock-components</span></code> (boolean)</p>
<blockquote>
<div><p>Perform an os upgrade only</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-dry-run</span></code> (boolean)</p>
<blockquote>
<div><p>Checks the eligibility of an image to upgrade</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--show-available-images</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-show-available-images</span></code> (boolean)</p>
<blockquote>
<div><p>Returns the list of images that are eligible for the upgrade</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--show-latest-available-image-per-runtime</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-show-latest-available-image-per-runtime</span></code> (boolean)</p>
<blockquote>
<div><p>Returns the latest image that is eligible for the upgrade for each runtime version with at least one available upgrade candidate</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--skip-backup</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-skip-backup</span></code> (boolean)</p>
<blockquote>
<div><p>If provided, will skip the backup flow for the upgrade process.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--skip-ranger-hms-metadata</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-skip-ranger-hms-metadata</span></code> (boolean)</p>
<blockquote>
<div><p>Skips the backup of the databases backing HMS/Ranger services. Redundant if –skip-backup is included. If this option is not provided, the HMS/Ranger services are backed up by default.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--skip-atlas-metadata</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-skip-atlas-metadata</span></code> (boolean)</p>
<blockquote>
<div><p>Skips the backup of the Atlas metadata. Redundant if –skip-backup is included. If this option is not provided, the Atlas metadata is backed up by default.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--skip-ranger-audits</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-skip-ranger-audits</span></code> (boolean)</p>
<blockquote>
<div><p>Skips the backup of the Ranger audits. Redundant if –skip-backup is included. If this option is not provided, Ranger audits are backed up by default.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--skip-datahub-validation</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-skip-datahub-validation</span></code> (boolean)</p>
<blockquote>
<div><p>With this option, the Data Lake upgrade can be performed with running Data Hub clusters. This option may cause problems on the running Data Hub clusters during the Data Lake upgrade.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--skip-backup-validation</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-skip-backup-validation</span></code> (boolean)</p>
<blockquote>
<div><p>Skips the validation steps that run prior to the backup. Redundant if –skip-backup is included. If this option is not provided, the validations are performed by default.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--rolling-upgrade-enabled</span></code> | <code class="docutils literal notranslate"><span class="pre">--no-rolling-upgrade-enabled</span></code> (boolean)</p>
<blockquote>
<div><p>Enables the ability to perform rolling runtime upgrade.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--cli-input-json</span></code> (string)</p>
<blockquote>
<div><p>Performs service operation based on the JSON string provided. The JSON string follows the format provided by <code class="docutils literal notranslate"><span class="pre">--generate-cli-skeleton</span></code>. If other arguments are provided on the command line, the CLI values will override the JSON-provided values.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">--generate-cli-skeleton</span></code> (boolean)</p>
<blockquote>
<div><p>Prints a sample input JSON to standard output. Note the specified operation is not run if this argument is specified. The sample input can be used as an argument for <code class="docutils literal notranslate"><span class="pre">--cli-input-json</span></code>.</p>
</div></blockquote>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<p>current -&gt; (object)</p>
<blockquote>
<div><p>Basic information about an image.</p>
<p>imageName -&gt; (string)</p>
<blockquote>
<div><p>The name of the image.</p>
</div></blockquote>
<p>imageId -&gt; (string)</p>
<blockquote>
<div><p>The id of the image.</p>
</div></blockquote>
<p>imageCatalogName -&gt; (string)</p>
<blockquote>
<div><p>Name of the image catalog, the image is from.</p>
</div></blockquote>
<p>created -&gt; (integer)</p>
<blockquote>
<div><p>Image creation timestamp</p>
</div></blockquote>
<p>componentVersions -&gt; (object)</p>
<blockquote>
<div><p>Versions of the image components</p>
<p>cm -&gt; (string)</p>
<blockquote>
<div><p>Version of CM</p>
</div></blockquote>
<p>cmGBN -&gt; (string)</p>
<blockquote>
<div><p>GBN of CM</p>
</div></blockquote>
<p>cdp -&gt; (string)</p>
<blockquote>
<div><p>CDP version</p>
</div></blockquote>
<p>cdpGBN -&gt; (string)</p>
<blockquote>
<div><p>CDP GBN</p>
</div></blockquote>
<p>os -&gt; (string)</p>
<blockquote>
<div><p>OS name</p>
</div></blockquote>
<p>osPatchLevel -&gt; (string)</p>
<blockquote>
<div><p>OS patch level</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>upgradeCandidates -&gt; (array)</p>
<blockquote>
<div><p>List of images and components to upgrade to</p>
<p>item -&gt; (object)</p>
<blockquote>
<div><p>Basic information about an image.</p>
<p>imageName -&gt; (string)</p>
<blockquote>
<div><p>The name of the image.</p>
</div></blockquote>
<p>imageId -&gt; (string)</p>
<blockquote>
<div><p>The id of the image.</p>
</div></blockquote>
<p>imageCatalogName -&gt; (string)</p>
<blockquote>
<div><p>Name of the image catalog, the image is from.</p>
</div></blockquote>
<p>created -&gt; (integer)</p>
<blockquote>
<div><p>Image creation timestamp</p>
</div></blockquote>
<p>componentVersions -&gt; (object)</p>
<blockquote>
<div><p>Versions of the image components</p>
<p>cm -&gt; (string)</p>
<blockquote>
<div><p>Version of CM</p>
</div></blockquote>
<p>cmGBN -&gt; (string)</p>
<blockquote>
<div><p>GBN of CM</p>
</div></blockquote>
<p>cdp -&gt; (string)</p>
<blockquote>
<div><p>CDP version</p>
</div></blockquote>
<p>cdpGBN -&gt; (string)</p>
<blockquote>
<div><p>CDP GBN</p>
</div></blockquote>
<p>os -&gt; (string)</p>
<blockquote>
<div><p>OS name</p>
</div></blockquote>
<p>osPatchLevel -&gt; (string)</p>
<blockquote>
<div><p>OS patch level</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>reason -&gt; (string)</p>
<blockquote>
<div><p>The reason why upgrade is not possible</p>
</div></blockquote>
<p>operationId -&gt; (string)</p>
<blockquote>
<div><p>Unique operation ID assigned to this command execution. Use this identifier with ‘get-operation’ to track status and retrieve detailed results.</p>
</div></blockquote>
</div>
<div class="section" id="form-factors">
<h2>Form Factors<a class="headerlink" href="#form-factors" title="Permalink to this headline">¶</a></h2>
<p>public</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">upgrade-datalake</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#form-factors">Form Factors</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="update-to-aws-imds-v2.html"
                        title="previous chapter">update-to-aws-imds-v2</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="validate-aws-cloud-storage.html"
                        title="next chapter">validate-aws-cloud-storage</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="validate-aws-cloud-storage.html" title="validate-aws-cloud-storage"
             >next</a></li>
        <li class="right" >
          <a href="update-to-aws-imds-v2.html" title="update-to-aws-imds-v2"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CDP CLI 0.9.136 (BETA) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >datalake</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">upgrade-datalake</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, Cloudera, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>
